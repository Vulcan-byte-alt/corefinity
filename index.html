<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Corefinity Magento Store Configuration Wizard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="icon" href="favicon.png" type="image/x-icon">
    <style>
        /* Reset and base styles */
        *,
        *::before,
        *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-weight: 400;
            letter-spacing: -0.01em;
            color: #333;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            line-height: 1.6;
            min-height: 100vh;
        }

        h1,
        h2,
        h3,
        .card-title,
        .summary-title {
            font-weight: 500;
            letter-spacing: -0.02em;
        }

        .summary-label,
        .form-label {
            font-weight: 500;
        }

        /* Corefinity brand colors - enhanced */
        :root {
            --primary: #0091EA;
            --primary-dark: #0077CC;
            --primary-light: rgba(0, 145, 234, 0.1);
            --secondary: #0091EA;
            --accent: #FF6600;
            --accent-dark: #E55A00;
            --success: #28a745;
            --warning: #ffc107;
            --danger: #dc3545;
            --light: #f8f9fa;
            --dark: #212529;
            --gray: #6c757d;
            --gray-light: #e9ecef;
            --gray-dark: #343a40;
            --border: #dee2e6;
            --shadow: rgba(0, 0, 0, 0.1);
            --shadow-lg: rgba(0, 0, 0, 0.15);
            --gradient: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            --accent-gradient: linear-gradient(135deg, var(--accent) 0%, var(--accent-dark) 100%);
            --card-shadow: 0 10px 30px rgba(0, 145, 234, 0.1);
        }

        /* Login Page - Enhanced */
        .login-container {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 2rem;
            position: relative;
            overflow: hidden;
        }

        .login-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="0.5"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>') repeat;
            opacity: 0.3;
        }

        .login-card {
            width: 100%;
            max-width: 420px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            padding: 3rem 2.5rem;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
            z-index: 1;
            animation: slideInUp 0.6s ease-out;
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .login-logo {
            margin-bottom: 2rem;
        }

        .login-logo-text {
            font-size: 2rem;
            font-weight: 700;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .login-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--gray-dark);
        }

        .login-subtitle {
            color: var(--gray);
            margin-bottom: 2rem;
            font-size: 0.95rem;
        }

        .login-demo-info {
            background: linear-gradient(135deg, var(--primary-light), rgba(0, 177, 229, 0.1));
            border: 1px solid rgba(0, 87, 255, 0.2);
            border-radius: 10px;
            padding: 1rem;
            margin-bottom: 2rem;
            font-size: 0.85rem;
            color: var(--primary-dark);
        }

        .login-form {
            text-align: left;
        }

        .login-footer {
            margin-top: 2rem;
            font-size: 0.875rem;
            color: var(--gray);
        }

        /* Main wizard - Modern design */
        .wizard-container {
            width: 100%;
            height: 100vh;
            display: flex;
            flex-direction: column;
            display: none;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        }

        .wizard-container.active {
            display: flex;
        }

        header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border);
            padding: 1.5rem 2rem;
            box-shadow: var(--card-shadow);
            position: relative;
            z-index: 100;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 2rem;
        }

        .wizard-navigation {
            display: flex;
            gap: 1rem;
        }

        .wizard-navigation .btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .wizard-navigation .btn svg {
            transition: transform 0.2s ease;
        }

        .wizard-navigation .btn:hover:not(:disabled) svg {
            transform: translateX(2px);
        }

        .wizard-navigation .btn-secondary:hover:not(:disabled) svg {
            transform: translateX(-2px);
        }

        .wizard-navigation .btn-secondary {
            background: var(--accent-gradient);
            color: white;
            border: 2px solid var(--accent);
        }

        .wizard-navigation .btn-secondary:hover:not(:disabled) {
            background: var(--accent-dark);
            border-color: var(--accent-dark);
            transform: translateY(-3px);
        }

        .logo {
            display: flex;
            align-items: center;
        }

        .logo-text {
            font-size: 1.5rem;
            font-weight: 700;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .step-indicator {
            color: var(--gray);
            font-size: 0.9rem;
            font-weight: 500;
            background: rgba(255, 255, 255, 0.8);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            border: 1px solid var(--border);
        }

        /* Enhanced Progress Bar */
        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            margin-top: 1rem;
            overflow: hidden;
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .progress-fill {
            height: 100%;
            background: var(--gradient);
            transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 10px;
            position: relative;
            overflow: hidden;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% {
                transform: translateX(-100%);
            }

            100% {
                transform: translateX(100%);
            }
        }

        .main-content {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        .sidebar {
            width: 280px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-right: 1px solid var(--border);
            padding: 2rem 1rem;
            overflow-y: auto;
            flex-shrink: 0;
            display: flex;
            flex-direction: column;
            box-shadow: var(--shadow-lg);
        }

        .content-area {
            flex: 1;
            padding: 2rem;
            overflow-y: auto;
            background: transparent;
            transition: padding-bottom 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Modern Navigation */
        .nav-list {
            list-style: none;
            margin-bottom: 2rem;
            flex: 1;
        }

        .nav-item {
            margin-bottom: 0.75rem;
        }

        .nav-link {
            display: flex;
            align-items: center;
            padding: 1rem 1.25rem;
            border-radius: 12px;
            text-decoration: none;
            color: var(--gray-dark);
            font-weight: 500;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            position: relative;
            background: rgba(255, 255, 255, 0.5);
            border: 1px solid transparent;
        }

        .nav-link:hover:not(.disabled) {
            background: var(--primary-light);
            color: var(--primary);
            transform: translateX(5px);
            border-color: rgba(0, 87, 255, 0.2);
            box-shadow: 0 5px 15px rgba(0, 87, 255, 0.1);
        }

        .nav-link.active {
            background: var(--gradient);
            color: white;
            transform: translateX(5px);
            box-shadow: 0 10px 25px rgba(0, 87, 255, 0.3);
        }

        .nav-link.completed {
            background: linear-gradient(135deg, var(--success), #20c997);
            color: white;
        }

        .nav-link.disabled {
            opacity: 0.5;
            cursor: not-allowed;
            pointer-events: none;
        }

        .nav-icon {
            margin-right: 1rem;
            width: 24px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .nav-icon i {
            font-size: 18px;
            opacity: 0.8;
            transition: all 0.3s ease;
        }

        .nav-link:hover .nav-icon i,
        .nav-link.active .nav-icon i {
            opacity: 1;
            transform: scale(1.1);
        }

        .nav-bottom {
            border-top: 1px solid var(--border);
            padding-top: 1.5rem;
        }

        /* Enhanced Form Elements */
        .form-group {
            margin-bottom: 2rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .form-group.dropdown-active {
            margin-bottom: 3rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.75rem;
            font-weight: 600;
            color: var(--gray-dark);
            font-size: 0.95rem;
            transition: all 0.3s ease;
        }

        .form-group.form-focused .form-label {
            color: var(--primary);
            transform: translateY(-2px);
        }

        /* Modern Custom Dropdown */
        .custom-select-container {
            position: relative;
            width: 100%;
            z-index: 1;
        }

        .custom-select {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
            padding: 1rem 1.25rem;
            font-size: 1rem;
            border: 2px solid var(--border);
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.9);
            cursor: pointer;
        }

        .custom-select::after {
            content: 'â–¼';
            margin-left: 1rem;
            font-size: 0.8rem;
            transition: transform 0.3s ease;
        }

        .custom-select.active::after {
            transform: rotate(180deg);
        }

        .custom-select:focus,
        .custom-select.active {
            outline: none;
            border-color: var(--primary);
            background: white;
            box-shadow: 0 0 0 4px rgba(0, 87, 255, 0.1);
            transform: translateY(-2px);
        }

        .custom-select.valid {
            border-color: var(--success);
            box-shadow: 0 0 0 4px rgba(40, 167, 69, 0.1);
        }

        .custom-select.invalid {
            border-color: var(--danger);
            box-shadow: 0 0 0 4px rgba(220, 53, 69, 0.1);
        }

        .select-icon {
            position: absolute;
            right: 1.25rem;
            top: 50%;
            transform: translateY(-50%);
            width: 20px;
            height: 20px;
            transition: transform 0.3s ease;
            pointer-events: none;
            z-index: 0;
            display: none;
        }

        .custom-select.active+.select-icon {
            transform: translateY(-50%) rotate(180deg);
        }

        .select-options {
            position: relative;
            left: 0;
            right: 0;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            border: 1px solid var(--border);
            max-height: 0;
            overflow: hidden;
            opacity: 0;
            margin-top: 5px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .select-options.show {
            max-height: 250px;
            opacity: 1;
            overflow-y: auto;
        }

        .select-option {
            padding: 1rem 1.25rem;
            margin: 0;
            cursor: pointer;
            transition: all 0.2s ease;
            display: block;
            color: var(--gray-dark);
            border-bottom: 1px solid transparent;
            text-indent: 0;
        }

        .select-option:hover {
            background: var(--primary-light);
            color: var(--primary);
            text-indent: 5px;
        }

        .select-option.selected {
            background: var(--primary-light);
            color: var(--primary);
            font-weight: 600;
        }

        /* Traditional Form Control (still enhanced) */
        .form-control {
            width: 100%;
            padding: 1rem 1.25rem;
            font-size: 1rem;
            border: 2px solid var(--border);
            border-radius: 12px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            background: white;
            box-shadow: 0 0 0 4px rgba(0, 87, 255, 0.1);
            transform: translateY(-2px);
        }

        .form-control.valid {
            border-color: var(--success);
            box-shadow: 0 0 0 4px rgba(40, 167, 69, 0.1);
        }

        .form-control.invalid {
            border-color: var(--danger);
            box-shadow: 0 0 0 4px rgba(220, 53, 69, 0.1);
        }

        .form-text {
            display: block;
            margin-top: 0.75rem;
            font-size: 0.875rem;
            color: var(--gray);
        }

        .form-text.error {
            color: var(--danger);
        }

        .form-text.success {
            color: var(--success);
        }

        .form-text.loading {
            color: var(--primary);
        }

        /* Enhanced Alert */
        .alert {
            padding: 1.25rem;
            border-radius: 12px;
            margin-bottom: 2rem;
            display: flex;
            align-items: center;
            background: linear-gradient(135deg, #fff3cd, #ffeaa7);
            border: 1px solid #ffeaa7;
            color: #856404;
            box-shadow: 0 5px 15px rgba(255, 193, 7, 0.1);
        }

        .alert-icon {
            margin-right: 1rem;
            font-size: 1.2rem;
        }

        /* Modern Card styles */
        .card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            box-shadow: var(--card-shadow);
            padding: 2.5rem;
            margin-bottom: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            border-bottom: 1px solid var(--border);
            padding-bottom: 1.5rem;
        }

        .card-title {
            font-size: 1.75rem;
            font-weight: 600;
            color: var(--gray-dark);
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .platform-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 3rem;
            margin-bottom: 2rem;
            justify-content: center;
            max-width: 1000px;
            margin-left: auto;
            margin-right: auto;
        }

        .platform-option {
            border: 2px solid var(--border);
            border-radius: 16px;
            padding: 2.5rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
            min-height: 180px;
        }

        .platform-option::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            transition: left 0.5s;
        }

        .platform-option:hover::before {
            left: 100%;
        }

        .platform-option:hover {
            border-color: var(--primary);
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 15px 30px rgba(0, 87, 255, 0.15);
        }

        .platform-option.selected {
            border-color: var(--primary);
            background: var(--primary-light);
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 87, 255, 0.2);
        }

        .platform-icon {
            width: 100px;
            height: 100px;
            margin: 0 auto 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 12px;
            overflow: hidden;
            padding: 5px;
        }

        .platform-icon img {
            width: 90px;
            height: 90px;
            object-fit: contain;
        }

        .platform-name {
            font-weight: 600;
            color: var(--gray-dark);
            font-size: 1.4rem;
            margin-top: 0.5rem;
        }

        /* Updated Theme Selection - Logo on Left */
        .theme-options {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .theme-option {
            border: 2px solid var(--border);
            border-radius: 16px;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }

        .theme-option:hover {
            border-color: var(--primary);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 87, 255, 0.1);
        }

        .theme-option.selected {
            border-color: var(--primary);
            background: var(--primary-light);
            box-shadow: 0 5px 15px rgba(0, 87, 255, 0.2);
        }

        .theme-logo-section {
            flex: 0 0 120px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .theme-logo {
            width: 120px;
            height: 80px;
            object-fit: contain;
        }

        .theme-content {
            flex: 1;
            padding-right: 1rem;
        }

        .theme-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
            color: var(--gray-dark);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .theme-description {
            font-size: 0.95rem;
            color: var(--gray);
            line-height: 1.6;
            margin: 0;
        }

        .theme-selection-radio {
            flex: 0 0 auto;
            display: flex;
            align-items: center;
        }

        .theme-selection-radio input[type="radio"] {
            width: 20px;
            height: 20px;
            accent-color: var(--primary);
        }

        .license-tag {
            display: inline-block;
            background: linear-gradient(135deg, #fff3cd, #ffeaa7);
            color: #856404;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-left: 0.5rem;
            border: 1px solid #ffeaa7;
        }

        /* Theme Preview Area */
        .theme-preview-area {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 16px;
            padding: 2rem;
            border: 1px solid var(--border);
            margin-top: 2rem;
        }

        .theme-preview-area h4 {
            margin-bottom: 1.5rem;
            color: var(--gray-dark);
            font-weight: 600;
            text-align: center;
            font-size: 1.2rem;
        }

        .theme-preview-container {
            display: flex;
            gap: 2rem;
            justify-content: center;
            align-items: flex-start;
            margin-bottom: 2rem;
            position: relative;
        }

        .theme-preview-desktop {
            flex: 1;
            max-width: 750px;
            min-width: 650px;
            background: #ffffff;
            border: 1px solid #d1d1d1;
            border-radius: 10px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            overflow: hidden;
            margin-top: 60px;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            position: relative;
        }

        .theme-preview-desktop:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
        }

        .theme-preview-desktop::before {
            content: '';
            display: block;
            height: 44px;
            background: linear-gradient(180deg, #f7f7f7 0%, #e8e8e8 100%);
            border-bottom: 1px solid #d1d1d1;
        }

        .theme-preview-desktop::after {
            content: '';
            position: absolute;
            top: 16px;
            left: 20px;
            width: 12px;
            height: 12px;
            background: #ff5f57;
            border-radius: 50%;
            box-shadow:
                20px 0 0 #ffbd2e,
                40px 0 0 #28ca42;
            z-index: 2;
        }

        .theme-preview-desktop .address-bar {
            position: absolute;
            top: 8px;
            left: 100px;
            right: 20px;
            height: 28px;
            background: #ffffff;
            border: 1px solid #d1d1d1;
            border-radius: 6px;
            display: flex;
            align-items: center;
            padding: 0 12px;
            font-size: 13px;
            color: #666;
            z-index: 3;
            box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.05);
        }

        .theme-preview-desktop .address-bar::before {
            content: 'ðŸ”’';
            margin-right: 8px;
            font-size: 11px;
        }

        .theme-preview-desktop .address-bar::after {
            content: '';
            flex: 1;
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", sans-serif;
        }

        .theme-preview-mobile {
            flex: 0 0 260px;
            background: #c7c7cc;
            border-radius: 28px;
            padding: 8px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            position: relative;
            z-index: 2;
            margin-top: 0;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            overflow: hidden;
        }

        .theme-preview-mobile:hover {
            transform: translateY(-10px) scale(1.05);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.4);
        }

        .theme-preview-desktop img {
            width: 100%;
            height: 420px;
            object-fit: cover;
            display: block;
            transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .theme-preview-desktop:hover img {
            transform: scale(1.02);
        }

        .theme-preview-mobile img {
            width: 100%;
            height: 520px;
            object-fit: cover;
            object-position: center;
            border-radius: 22px;
            display: block;
            transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .theme-preview-mobile:hover img {
            transform: scale(1.02);
        }

        .theme-preview-desktop img:hover,
        .theme-preview-mobile img:hover {
            transform: scale(1.02);
            box-shadow: 0 12px 35px rgba(0, 0, 0, 0.2);
        }

        /* Enhanced Tabs */
        .tabs {
            display: flex;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border-radius: 16px;
            padding: 8px;
            margin-bottom: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            position: relative;
        }

        .tab-icon {
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.3s ease;
        }

        .tab-icon i {
            font-size: 16px;
            opacity: 0.8;
            transition: all 0.3s ease;
        }

        .tab-item:hover .tab-icon i,
        .tab-item.active .tab-icon i {
            opacity: 1;
            transform: scale(1.1);
        }

        .tabs::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.5), transparent);
        }

        .tab-item {
            padding: 1rem 1.5rem;
            font-weight: 600;
            font-size: 0.95rem;
            color: var(--gray);
            cursor: pointer;
            border: none;
            border-radius: 12px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            gap: 8px;
            background: transparent;
            outline: none;
            position: relative;
            overflow: hidden;
            min-width: 120px;
            justify-content: center;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .tab-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .tab-item:hover::before {
            left: 100%;
        }

        .tab-item:hover {
            color: var(--primary);
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 4px 20px rgba(0, 87, 255, 0.15);
        }

        .tab-item.active {
            color: white;
            background: var(--gradient);
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 8px 25px rgba(0, 87, 255, 0.3);
            font-weight: 700;
        }

        .tab-item.active::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.2), transparent);
            border-radius: 12px;
            pointer-events: none;
        }

        .tab-content {
            display: none;
            animation: none;
        }

        .tab-content.active {
            display: block;
            animation: modernFadeIn 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes modernFadeIn {
            from {
                opacity: 0;
                transform: translateY(20px) scale(0.95);
                filter: blur(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0) scale(1);
                filter: blur(0);
            }
        }

        /* Focus States for Accessibility */
        .tab-item:focus-visible {
            outline: 2px solid var(--primary);
            outline-offset: 2px;
            box-shadow: 0 0 0 4px rgba(0, 87, 255, 0.2);
        }

        .tab-item.active .tab-icon {
            transform: scale(1.1);
        }

        .tab-item:hover .tab-icon {
            transform: scale(1.05);
        }

        /* NEW COLOR PICKER STYLES - Based on your images */
        .colors-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 16px;
            padding: 2rem;
            border: 1px solid var(--border);
        }

        .colors-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .colors-header h3 {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--gray-dark);
        }

        .colors-subtitle {
            color: var(--gray);
            font-size: 1rem;
        }

        .colors-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 3rem;
            margin-bottom: 3rem;
            justify-items: center;
        }

        .color-picker-group {
            text-align: center;
            max-width: 200px;
        }

        .color-picker-label {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--gray-dark);
            margin-bottom: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .color-picker-wrapper {
            position: relative;
            display: flex;
            justify-content: center;
            margin-bottom: 1.5rem;
        }

        .color-picker-circle {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            border: 4px solid white;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .color-picker-circle:hover {
            transform: scale(1.1);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        }

        .color-picker-circle:active {
            transform: scale(1.05);
        }

        .color-picker-input {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            cursor: pointer;
            border: none;
            background: none;
        }

        .color-picker-label {
            font-size: 0.9rem;
            font-weight: 700;
            color: var(--gray-dark);
            margin-bottom: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .color-description {
            font-size: 0.85rem;
            color: var(--gray);
            line-height: 1.4;
            text-align: center;
        }

        .colors-preview {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: rgba(248, 249, 250, 0.5);
            border-radius: 12px;
            border: 1px solid var(--border);
        }

        .color-sample {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            transition: all 0.3s ease;
        }

        .color-sample:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
        }

        .preview-theme-btn {
            width: 100%;
            padding: 1rem 2rem;
            font-size: 1rem;
            border-radius: 12px;
        }

        .colors-preview .color-sample {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        /* NEW LOGO UPLOAD STYLES - Based on your images */
        .logos-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 16px;
            padding: 2rem;
            border: 1px solid var(--border);
            max-width: 100%;
        }

        .logos-header {
            margin-bottom: 2rem;
        }

        .logos-header h3 {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--gray-dark);
        }

        .logos-subtitle {
            color: var(--gray);
            font-size: 1rem;
            margin: 0;
        }

        .logo-section {
            margin-bottom: 2rem;
        }

        .logo-section-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--gray-dark);
            margin-bottom: 1rem;
        }

        .logo-upload-row {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 0.5rem;
            padding: 0.75rem;
            border: 2px solid var(--border);
            border-radius: 8px;
            background: white;
            transition: all 0.3s ease;
        }

        .logo-upload-row:hover {
            border-color: var(--primary);
        }

        .logo-upload-row.has-file {
            border-color: var(--success);
            background: rgba(40, 167, 69, 0.05);
        }

        .logo-choose-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            flex-shrink: 0;
        }

        .logo-choose-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-1px);
        }

        .logo-filename {
            color: var(--gray);
            font-size: 0.95rem;
            flex: 1;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .logo-filename.has-file {
            color: var(--gray-dark);
            font-weight: 500;
        }

        .logo-requirements {
            font-size: 0.85rem;
            color: var(--gray);
            margin-bottom: 1rem;
            padding-left: 0.25rem;
        }

        .logo-preview-box {
            width: 100%;
            height: 200px;
            border: 2px dashed var(--border);
            border-radius: 12px;
            background: rgba(248, 249, 250, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .logo-preview-box:hover {
            border-color: var(--primary);
            background: var(--primary-light);
        }

        .logo-preview-box.has-image {
            border-style: solid;
            border-color: var(--success);
            background: white;
        }

        .logo-preview-img {
            max-width: 90%;
            max-height: 90%;
            object-fit: contain;
            border-radius: 8px;
        }

        .logo-preview-img.hidden {
            display: none;
        }

        .logo-placeholder {
            color: var(--gray);
            font-style: italic;
            text-align: center;
            padding: 1rem;
        }

        .logo-placeholder.hidden {
            display: none;
        }

        .preview-theme-btn {
            width: 100%;
            padding: 1rem 2rem;
            font-size: 1rem;
            border-radius: 12px;
            margin-top: 1rem;
        }

        .logo-upload-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .logo-upload-section {
            border: 2px dashed var(--border);
            border-radius: 12px;
            padding: 2rem;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            background: rgba(248, 249, 250, 0.8);
            position: relative;
        }

        .logo-upload-section:hover {
            border-color: var(--primary);
            background: var(--primary-light);
        }

        .logo-upload-section.has-file {
            border-color: var(--success);
            background: rgba(40, 167, 69, 0.1);
        }

        .logo-upload-title {
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--gray-dark);
        }

        .logo-upload-button {
            background: var(--primary);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 1rem;
        }

        .logo-upload-button:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }

        .logo-upload-info {
            font-size: 0.8rem;
            color: var(--gray);
            line-height: 1.4;
        }

        .logo-preview {
            margin-top: 1rem;
            max-width: 100%;
            max-height: 100px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .file-input {
            display: none;
        }

        /* NEW FONT STYLES - Based on your images */
        .fonts-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 16px;
            padding: 2rem;
            border: 1px solid var(--border);
        }

        .font-checkbox-wrapper {
            display: flex;
            align-items: center;
            margin-bottom: 2rem;
            padding: 1rem;
            border-radius: 8px;
            background: rgba(248, 249, 250, 0.8);
            border: 1px solid var(--border);
        }

        .font-checkbox-wrapper input[type="checkbox"] {
            margin-right: 1rem;
            transform: scale(1.2);
            accent-color: var(--primary);
        }

        .font-checkbox-wrapper label {
            font-weight: 600;
            color: var(--gray-dark);
            cursor: pointer;
        }

        .font-search-wrapper {
            margin-bottom: 2rem;
            transition: opacity 0.3s ease;
        }

        .font-search-wrapper.disabled {
            opacity: 0.5;
            pointer-events: none;
        }

        .font-search-input {
            width: 100%;
            padding: 1rem;
            border: 2px solid var(--border);
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .font-search-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(0, 87, 255, 0.1);
        }

        .font-preview-box {
            background: rgba(248, 249, 250, 0.8);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1.5rem;
            margin-top: 1.5rem;
            margin-bottom: 10px;
        }

        .font-preview-text {
            margin-bottom: 0.5rem;
        }

        /* Enhanced Buttons */
        .btn {
            padding: 1rem 2rem;
            border-radius: 12px;
            font-weight: 600;
            font-size: 0.95rem;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .btn:disabled::before {
            display: none;
        }

        .btn.ready-to-proceed {
            animation: readyPulse 2s infinite;
            box-shadow: 0 5px 15px rgba(0, 87, 255, 0.4);
        }

        @keyframes readyPulse {

            0%,
            100% {
                transform: scale(1);
                box-shadow: 0 5px 15px rgba(0, 87, 255, 0.4);
            }

            50% {
                transform: scale(1.05);
                box-shadow: 0 8px 25px rgba(0, 87, 255, 0.6);
            }
        }

        .btn-primary {
            background: var(--gradient);
            color: white;
            box-shadow: 0 5px 15px rgba(0, 87, 255, 0.3);
        }

        .btn-primary:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0, 87, 255, 0.4);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.9);
            color: var(--gray-dark);
            border: 2px solid var(--border);
            backdrop-filter: blur(10px);
        }

        .btn-secondary:hover:not(:disabled) {
            background: var(--gray-light);
            border-color: var(--gray);
            transform: translateY(-3px);
        }

        /* Enhanced Module Styles */
        .module-category {
            margin-bottom: 2rem;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 2rem;
            border: 1px solid var(--border);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .category-header {
            margin-bottom: 2rem;
            border-bottom: 1px solid var(--border);
            padding-bottom: 1.5rem;
        }

        .category-title {
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
            color: var(--gray-dark);
        }

        .category-description {
            font-size: 1rem;
            color: var(--gray);
            line-height: 1.6;
        }

        .module-list {
            margin-bottom: 1rem;
        }

        .module-item {
            display: flex;
            align-items: flex-start;
            padding: 1.5rem;
            border: 2px solid var(--border);
            border-radius: 16px;
            margin-bottom: 1.5rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            cursor: pointer;
        }

        .module-item:hover {
            border-color: var(--primary);
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 87, 255, 0.1);
        }

        .module-item.selected {
            border-color: var(--primary);
            background: var(--primary-light);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 87, 255, 0.15);
        }

        .module-icon {
            width: 60px;
            height: 60px;
            background: #6c757d;
            border-radius: 8px;
            margin-right: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.4rem;
            color: white;
            font-weight: 700;
            flex-shrink: 0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .module-item[data-module="ppcp"] .module-icon {
            background: white;
            padding: 8px;
            border: 1px solid #e0e0e0;
        }

        .module-logo {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .module-item:hover .module-icon {
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .module-item:hover .module-logo {
            transform: scale(1.1);
        }

        .module-content {
            flex: 1;
        }

        .module-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 0.75rem;
        }

        .module-name {
            font-weight: 600;
            margin-bottom: 0.75rem;
            color: var(--gray-dark);
            font-size: 1.1rem;
        }

        .module-description {
            font-size: 0.95rem;
            color: var(--gray);
            line-height: 1.6;
        }

        .module-actions {
            display: flex;
            align-items: center;
            margin-left: 1.5rem;
            flex-shrink: 0;
        }

        .module-btn {
            min-width: 80px;
            font-weight: 600;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            background: transparent;
            border: 2px solid;
        }

        .btn-accent {
            color: #28a745;
            border-color: #28a745;
            background: transparent;
        }

        .btn-accent:hover {
            color: #218838;
            border-color: #218838;
            background: rgba(40, 167, 69, 0.1);
        }

        .btn-danger {
            color: #dc3545;
            border-color: #dc3545;
            background: transparent;
        }

        .btn-danger:hover {
            color: #c82333;
            border-color: #c82333;
            background: rgba(220, 53, 69, 0.1);
        }

        .module-badge {
            font-size: 0.7rem;
            padding: 0.25rem 0.5rem;
            border-radius: 12px;
            font-weight: 600;
            margin-left: 0.5rem;
        }

        .module-badge.recommended {
            background: linear-gradient(135deg, #ffd700, #ffa500);
            color: #8b4513;
        }

        .module-badge.new {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
        }

        .module-badge.european {
            background: linear-gradient(135deg, #0984e3, #74b9ff);
            color: white;
        }

        .module-badge.license {
            background: linear-gradient(135deg, #ff9800, #f57c00);
            color: white;
        }

        .module-features {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .feature-tag {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid var(--border);
            color: var(--gray-dark);
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-size: 0.75rem;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .feature-tag:hover {
            background: var(--primary-light);
            border-color: var(--primary);
            color: var(--primary);
            transform: translateY(-1px);
        }

        .dependencies {
            display: flex;
            gap: 1.5rem;
            flex-wrap: wrap;
            margin-top: 2rem;
            justify-content: center;
            background: none;
        }

        .dependency-item {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 2rem 1.5rem;
            text-align: center;
            width: 180px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            position: relative;
            overflow: hidden;
            min-height: 140px;
        }

        .dependency-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 87, 255, 0.1);
            border-color: var(--primary);
        }

        .dependency-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            transition: left 0.5s;
        }

        .dependency-item:hover::before {
            left: 100%;
        }

        .dependency-icon {
            width: 60px;
            height: 60px;
            margin: 0 auto 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 12px;
            padding: 8px;
            transition: all 0.3s ease;
        }

        .dependency-item:hover .dependency-icon {
            background: rgba(255, 255, 255, 1);
            transform: scale(1.1);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .dependency-logo {
            width: 45px;
            height: 45px;
            object-fit: contain;
            transition: transform 0.3s ease;
        }

        .dependency-item:hover .dependency-logo {
            transform: scale(1.1);
        }

        .dependency-name {
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--gray-dark);
            transition: color 0.3s ease;
        }

        .dependency-item:hover .dependency-name {
            color: var(--primary);
        }

        .dependency-version {
            font-size: 0.8rem;
            color: var(--primary);
            font-weight: 600;
            padding: 0.25rem 0.5rem;
            background: var(--primary-light);
            border-radius: 8px;
            border: 1px solid rgba(0, 87, 255, 0.2);
            transition: all 0.3s ease;
        }

        .dependency-item:hover .dependency-version {
            background: var(--primary);
            color: white;
            transform: scale(1.05);
        }

        @keyframes dependencyUpdate {
            0% {
                transform: scale(1);
                background: rgba(255, 255, 255, 0.9);
            }

            50% {
                transform: scale(1.05);
                background: var(--primary-light);
                border-color: var(--primary);
            }

            100% {
                transform: scale(1);
                background: rgba(255, 255, 255, 0.9);
            }
        }

        /* Enhanced Preview Modal */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .modal.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
            width: 90%;
            max-width: 1200px;
            max-height: 90vh;
            overflow: hidden;
            position: relative;
            display: flex;
            flex-direction: column;
            transform: scale(0.8);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .modal.active .modal-content {
            transform: scale(1);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 2rem;
            border-bottom: 1px solid var(--border);
            background: rgba(255, 255, 255, 0.9);
        }

        .modal-title {
            font-size: 1.4rem;
            font-weight: 600;
            color: var(--gray-dark);
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 2rem;
            cursor: pointer;
            color: var(--gray);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-close:hover {
            color: var(--danger);
            background: rgba(220, 53, 69, 0.1);
            transform: scale(1.1);
        }

        .modal-body {
            padding: 2rem;
            flex: 1;
            overflow-y: auto;
        }

        .modal-tabs {
            display: flex;
            background: rgba(248, 250, 252, 0.8);
            backdrop-filter: blur(15px);
            border-radius: 16px 16px 0 0;
            padding: 6px;
            border: 1px solid rgba(226, 232, 240, 0.5);
            box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
            margin-bottom: 2rem;
        }

        .modal-tab {
            padding: 1rem 2rem;
            font-weight: 600;
            font-size: 0.9rem;
            color: var(--gray-dark);
            cursor: pointer;
            border: none;
            border-radius: 12px;
            background: transparent;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            min-width: 140px;
            justify-content: center;
            display: flex;
            align-items: center;
        }

        .modal-tab::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 87, 255, 0.1), transparent);
            transition: left 0.4s ease;
        }

        .modal-tab:hover::before {
            left: 100%;
        }

        .modal-tab:hover {
            color: var(--primary);
            background: rgba(0, 87, 255, 0.08);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 87, 255, 0.15);
        }

        .modal-tab.active {
            color: var(--primary);
            background: rgba(255, 255, 255, 0.9);
            box-shadow: 0 4px 16px rgba(0, 87, 255, 0.2);
            transform: translateY(-1px);
            border: 1px solid rgba(0, 87, 255, 0.2);
        }

        .modal-tab-content {
            display: none;
        }

        .modal-tab-content.active {
            display: block;
        }

        .preview-frame {
            border: 2px solid var(--border);
            border-radius: 16px;
            overflow: hidden;
            background: #f8f9fa;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .preview-desktop {
            width: 100%;
            height: 600px;
            background: #ffffff;
            border: 1px solid #d1d1d1;
            border-radius: 10px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            overflow: hidden;
            position: relative;
            padding: 0;
            margin: 0;
        }

        .preview-desktop::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 44px;
            background: linear-gradient(180deg, #f7f7f7 0%, #e8e8e8 100%);
            border-bottom: 1px solid #d1d1d1;
            z-index: 2;
        }

        .preview-desktop::after {
            content: '';
            position: absolute;
            top: 16px;
            left: 20px;
            width: 12px;
            height: 12px;
            background: #ff5f57;
            border-radius: 50%;
            box-shadow:
                20px 0 0 #ffbd2e,
                40px 0 0 #28ca42;
            z-index: 3;
        }

        .preview-desktop img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center;
            display: block;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 1;
        }

        .preview-desktop .modal-address-bar {
            position: absolute;
            top: 8px;
            left: 100px;
            right: 20px;
            height: 28px;
            background: #ffffff;
            border: 1px solid #d1d1d1;
            border-radius: 6px;
            display: flex;
            align-items: center;
            padding: 0 12px;
            font-size: 13px;
            color: #666;
            z-index: 3;
            box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.05);
        }

        .preview-desktop .modal-address-bar::before {
            content: 'ðŸ”’';
            margin-right: 8px;
            font-size: 11px;
        }

        .preview-desktop .modal-address-bar::after {
            content: '';
            flex: 1;
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", sans-serif;
        }

        .preview-mobile {
            width: 320px;
            height: 700px;
            margin: 0 auto;
            background: #1d1d1f;
            border-radius: 28px;
            padding: 6px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .preview-mobile:hover {
            transform: translateY(-10px) scale(1.05);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.4);
        }

        .preview-mobile::before {
            display: none;
        }

        .preview-mobile {
            width: 320px;
            height: 700px;
            margin: 0 auto;
            background: #1d1d1f;
            border-radius: 28px;
            padding: 0;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
        }

        .preview-mobile img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center;
            border-radius: 28px;
            display: block;
            position: absolute;
            top: 0;
            left: 0;
        }

        .preview-mobile::after {
            content: '';
            position: absolute;
            bottom: 8px;
            left: 50%;
            transform: translateX(-50%);
            width: 36px;
            height: 4px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 2px;
            z-index: 3;
        }

        .preview-mobile img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center;
            border-radius: 22px;
            display: block;
            transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .preview-mobile:hover img {
            transform: scale(1.02);
        }

        .preview-mobile-frame {
            width: 320px;
            height: 700px;
            margin: 0 auto;
            background: #c7c7cc;
            border-radius: 28px;
            padding: 8px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            position: relative;
        }

        .preview-mobile-frame::after {
            content: '';
            position: absolute;
            bottom: 8px;
            left: 50%;
            transform: translateX(-50%);
            width: 36px;
            height: 4px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 2px;
            z-index: 3;
        }

        .preview-mobile-frame img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 22px;
            display: block;
        }

        .modal-tab-content {
            padding: 0;
            margin: 0;
        }

        .modal-body {
            padding: 2rem;
            flex: 1;
            overflow-y: auto;
            background: #f8f9fa;
        }

        /* Enhanced Summary Section */
        .summary-section {
            margin-bottom: 2rem;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 2rem;
            border: 1px solid var(--border);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .summary-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border);
            color: var(--gray-dark);
        }

        .summary-list {
            list-style: none;
        }

        .summary-item {
            display: flex;
            margin-bottom: 1rem;
            padding: 1rem;
            border-bottom: 1px solid rgba(248, 249, 250, 0.8);
            border-radius: 8px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .summary-item:hover {
            background: rgba(248, 249, 250, 0.5);
        }

        .summary-item:last-child {
            margin-bottom: 0;
        }

        .summary-label {
            font-weight: 600;
            width: 200px;
            flex-shrink: 0;
            color: var(--gray-dark);
        }

        .summary-value {
            color: var(--dark);
            flex: 1;
            line-height: 1.6;
        }

        .color-preview {
            display: inline-block;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            margin-right: 0.75rem;
            vertical-align: middle;
            border: 2px solid white;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        }

        .modules-summary {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            margin-top: 0.75rem;
        }

        .module-tag {
            display: inline-block;
            background: var(--primary-light);
            color: var(--primary);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            border: 1px solid rgba(0, 87, 255, 0.2);
        }

        /* Fix for Selected Modules label alignment */
        .summary-item.modules-item {
            align-items: flex-start;
        }

        .summary-item.modules-item .summary-label {
            padding-top: 0.9rem;
        }

        .build-deploy-section {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 2rem;
            border: 1px solid var(--border);
            text-align: center;
            margin-top: 2rem;
        }

        .ready-to-proceed {
            animation: readyPulse 2s infinite;
            box-shadow: 0 5px 15px rgba(0, 87, 255, 0.4);
        }

        @keyframes readyPulse {

            0%,
            100% {
                transform: scale(1);
                box-shadow: 0 5px 15px rgba(0, 87, 255, 0.4);
            }

            50% {
                transform: scale(1.05);
                box-shadow: 0 8px 25px rgba(0, 87, 255, 0.6);
            }
        }

        /* Enhanced Validation Indicators */
        .step-validation {
            margin-left: auto;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            font-weight: bold;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .step-validation.valid {
            background: linear-gradient(135deg, var(--success), #20c997);
            color: white;
            box-shadow: 0 3px 10px rgba(40, 167, 69, 0.3);
        }

        .step-validation.invalid {
            background: linear-gradient(135deg, var(--danger), #e74c3c);
            color: white;
            box-shadow: 0 3px 10px rgba(220, 53, 69, 0.3);
        }

        .step-validation.incomplete {
            background: var(--gray-light);
            color: var(--gray);
        }

        /* Enhanced Loading Animation */
        .loading {
            display: inline-block;
            width: 18px;
            height: 18px;
            border: 2px solid var(--gray-light);
            border-radius: 50%;
            border-top-color: var(--primary);
            animation: spin 1s cubic-bezier(0.4, 0, 0.2, 1) infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* Profile Page */
        .profile-section {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 2rem;
            border: 1px solid var(--border);
            margin-bottom: 2rem;
        }

        .profile-header {
            display: flex;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border);
        }

        .profile-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: var(--gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2rem;
            font-weight: bold;
            margin-right: 1.5rem;
            box-shadow: 0 8px 25px rgba(0, 87, 255, 0.3);
        }

        .profile-info h2 {
            margin-bottom: 0.5rem;
            color: var(--gray-dark);
        }

        .profile-info p {
            color: var(--gray);
        }

        .builds-table-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            overflow: hidden;
            border: 1px solid var(--border);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            margin-bottom: 2rem;
        }

        .builds-table {
            width: 100%;
            border-collapse: collapse;
            background: transparent;
        }

        .builds-table thead {
            background: rgba(248, 249, 250, 0.8);
            border-bottom: 2px solid var(--border);
        }

        .builds-table th {
            padding: 1.25rem 1.5rem;
            text-align: left;
            font-weight: 600;
            color: var(--gray-dark);
            font-size: 0.95rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border: none;
        }

        .builds-table td {
            padding: 1.25rem 1.5rem;
            border-bottom: 1px solid var(--border);
            vertical-align: middle;
        }

        .builds-table tbody tr {
            transition: all 0.3s ease;
        }

        .builds-table tbody tr:hover {
            background: rgba(248, 249, 250, 0.5);
            transform: translateX(5px);
        }

        .builds-table tbody tr:last-child td {
            border-bottom: none;
        }

        /* Site Name Cell */
        .site-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .site-avatar {
            width: 40px;
            height: 40px;
            background: var(--gradient);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            font-size: 1.1rem;
            flex-shrink: 0;
            box-shadow: 0 4px 12px rgba(0, 87, 255, 0.3);
        }

        .site-details {
            min-width: 0;
            flex: 1;
        }

        .site-name {
            font-weight: 600;
            color: var(--gray-dark);
            font-size: 1rem;
            margin-bottom: 0.25rem;
        }

        .site-description {
            font-size: 0.85rem;
            color: var(--gray);
        }

        /* URL Links */
        .site-url {
            color: var(--primary);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .site-url:hover {
            color: var(--primary-dark);
            text-decoration: underline;
        }

        /* Version Tags */
        .version-tag {
            background: var(--primary-light);
            color: var(--primary);
            padding: 0.35rem 0.75rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            border: 1px solid rgba(0, 87, 255, 0.2);
            display: inline-block;
        }

        /* Created By */
        .created-by {
            font-weight: 500;
            color: var(--gray-dark);
        }

        /* Created Date */
        .created-date {
            color: var(--gray);
            font-size: 0.9rem;
        }

        /* Action Buttons */
        .action-buttons {
            display: flex;
            gap: 0.5rem;
            justify-content: flex-end;
        }

        .btn-sm {
            padding: 0.4rem 0.8rem;
            font-size: 0.85rem;
            border-radius: 6px;
            font-weight: 500;
            border: 2px solid;
            background: transparent;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 70px;
        }

        .btn-outline-secondary {
            color: var(--gray);
            border-color: var(--gray);
        }

        .btn-outline-secondary:hover {
            color: var(--gray-dark);
            border-color: var(--gray-dark);
            background: rgba(108, 117, 125, 0.1);
        }

        .btn-outline-primary {
            color: var(--primary);
            border-color: var(--primary);
        }

        .btn-outline-primary:hover {
            color: var(--primary-dark);
            border-color: var(--primary-dark);
            background: var(--primary-light);
        }

        /* Toast notifications */
        .toast {
            position: fixed;
            top: 2rem;
            right: 2rem;
            z-index: 10000;
            max-width: 400px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            border: 1px solid var(--border);
            animation: slideInRight 0.3s ease-out;
        }

        .toast-success {
            border-left: 4px solid var(--success);
        }

        .toast-content {
            display: flex;
            align-items: center;
            padding: 1rem 1.5rem;
        }

        .toast-message {
            flex: 1;
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .toast-close {
            background: none;
            border: none;
            font-size: 1.2rem;
            cursor: pointer;
            color: var(--gray);
            margin-left: 1rem;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .toast-close:hover {
            background: var(--gray-light);
            color: var(--danger);
        }

        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }

            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* Accessibility Improvements */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }

        a:focus-visible,
        button:focus-visible,
        input:focus-visible,
        select:focus-visible,
        textarea:focus-visible {
            outline: 2px solid var(--primary);
            outline-offset: 2px;
        }

        .skip-to-content {
            position: absolute;
            top: -40px;
            left: 0;
            background: var(--primary);
            color: white;
            padding: 8px 16px;
            z-index: 100;
            transition: top 0.3s;
        }

        .skip-to-content:focus {
            top: 0;
        }

        .hidden {
            display: none !important;
        }

        .home-indicator {
            position: absolute;
            bottom: 8px;
            left: 50%;
            transform: translateX(-50%);
            width: 36px;
            height: 4px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 2px;
            z-index: 3;
        }

        /* RESPONSIVE DESIGN - COMPREHENSIVE FIX */

        /* Large Tablet / Small Desktop (1024px - 1199px) */
        @media (max-width: 1199px) {
            .main-content {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                max-height: 200px;
                overflow-y: auto;
                padding: 1rem;
                order: 2;
            }

            .content-area {
                order: 1;
                padding: 1.5rem;
            }

            .nav-list {
                display: flex;
                flex-wrap: wrap;
                gap: 0.5rem;
                margin-bottom: 1rem;
            }

            .nav-item {
                margin-bottom: 0;
                flex: 1;
                min-width: 140px;
            }

            .nav-link {
                padding: 0.75rem 1rem;
                font-size: 0.9rem;
            }

            .platform-options {
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: 2rem;
            }

            .theme-preview-container {
                flex-direction: column;
                align-items: center;
                gap: 2rem;
            }

            .theme-preview-desktop {
                min-width: 500px;
                max-width: 700px;
                margin-top: 0;
            }

            .theme-preview-mobile {
                flex: 0 0 200px;
            }

            .colors-grid {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
                gap: 2rem;
            }

            .dependencies {
                gap: 1rem;
            }

            .dependency-item {
                width: 140px;
                padding: 1.5rem 1rem;
            }
        }

        /* Tablet (768px - 1023px) */
        @media (max-width: 1023px) {
            .login-card {
                padding: 2.5rem 2rem;
                margin: 1.5rem;
            }

            .header-content {
                flex-direction: column;
                gap: 1rem;
                align-items: stretch;
            }

            .header-right {
                justify-content: space-between;
                flex-wrap: wrap;
                gap: 1rem;
            }

            .wizard-navigation {
                order: 2;
                width: 100%;
                justify-content: center;
            }

            .step-indicator {
                order: 1;
                text-align: center;
            }

            .logo-text {
                font-size: 1.3rem;
                text-align: center;
            }

            .card {
                padding: 2rem;
                margin-bottom: 1.5rem;
            }

            .card-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }

            .card-title {
                font-size: 1.5rem;
            }

            .platform-options {
                grid-template-columns: 1fr;
                gap: 1.5rem;
                max-width: 600px;
            }

            .platform-option {
                padding: 2rem;
                min-height: 150px;
            }

            .platform-icon {
                width: 80px;
                height: 80px;
                margin-bottom: 1rem;
            }

            .platform-icon img {
                width: 70px;
                height: 70px;
            }

            .platform-name {
                font-size: 1.2rem;
            }

            .theme-option {
                flex-direction: column;
                text-align: center;
                gap: 1rem;
                padding: 1.5rem;
            }

            .theme-logo-section {
                flex: none;
            }

            .theme-content {
                padding-right: 0;
            }

            .theme-preview-desktop {
                min-width: 400px;
                max-width: 500px;
            }

            .theme-preview-desktop img {
                height: 300px;
            }

            .theme-preview-mobile {
                flex: 0 0 180px;
            }

            .theme-preview-mobile img {
                height: 350px;
            }

            .tabs {
                flex-wrap: wrap;
                gap: 0.5rem;
            }

            .tab-item {
                flex: 1;
                min-width: 100px;
                padding: 0.75rem 1rem;
                font-size: 0.85rem;
            }

            .colors-grid {
                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
                gap: 1.5rem;
            }

            .color-picker-circle {
                width: 80px;
                height: 80px;
            }

            .logo-upload-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .module-item {
                flex-direction: column;
                text-align: center;
                gap: 1rem;
            }

            .module-icon {
                margin-right: 0;
                margin-bottom: 1rem;
                align-self: center;
            }

            .module-content {
                width: 100%;
            }

            .module-header {
                flex-direction: column;
                align-items: center;
                gap: 1rem;
            }

            .module-actions {
                margin-left: 0;
            }

            .dependencies {
                gap: 1rem;
                justify-content: center;
            }

            .dependency-item {
                width: 120px;
                padding: 1rem;
                min-height: 120px;
            }

            .dependency-icon {
                width: 50px;
                height: 50px;
            }

            .dependency-logo {
                width: 35px;
                height: 35px;
            }

            .summary-item {
                flex-direction: column;
                gap: 0.5rem;
                padding: 1rem 0.75rem;
            }

            .summary-label {
                width: 100%;
                font-size: 0.9rem;
                margin-bottom: 0.25rem;
            }

            .summary-value {
                font-size: 0.9rem;
            }

            .modules-summary {
                margin-top: 0.5rem;
            }

            .module-tag {
                font-size: 0.75rem;
                padding: 0.4rem 0.8rem;
            }

            .builds-table-container {
                overflow-x: auto;
            }

            .builds-table {
                min-width: 800px;
            }

            .builds-table th,
            .builds-table td {
                padding: 1rem 0.75rem;
            }

            .site-info {
                gap: 0.75rem;
            }

            .site-avatar {
                width: 35px;
                height: 35px;
                font-size: 1rem;
            }

            .action-buttons {
                flex-wrap: wrap;
                gap: 0.25rem;
            }

            .btn-sm {
                font-size: 0.8rem;
                padding: 0.35rem 0.6rem;
                min-width: 60px;
            }

            .modal-content {
                width: 95%;
                margin: 1rem;
                max-height: 85vh;
            }

            .modal-header {
                padding: 1.5rem;
            }

            .modal-body {
                padding: 1.5rem;
            }

            .preview-desktop {
                height: 400px;
            }

            .preview-mobile {
                width: 250px;
                height: 500px;
            }
        }

        /* Mobile Large (480px - 767px) */
        @media (max-width: 767px) {
            .login-card {
                padding: 2rem 1.5rem;
                margin: 1rem;
                max-width: 380px;
            }

            .login-logo-text {
                font-size: 1.8rem;
            }

            .login-title {
                font-size: 1.3rem;
            }

            header {
                padding: 1rem 1.5rem;
            }

            .logo-text {
                font-size: 1.1rem;
            }

            .header-content {
                gap: 0.75rem;
            }

            .wizard-navigation {
                gap: 0.75rem;
            }

            .wizard-navigation .btn {
                padding: 0.65rem 1.25rem;
                font-size: 0.85rem;
            }

            .step-indicator {
                font-size: 0.85rem;
                padding: 0.4rem 0.8rem;
            }

            .sidebar {
                padding: 0.75rem;
                max-height: 150px;
            }

            .nav-list {
                gap: 0.4rem;
                margin-bottom: 0.75rem;
            }

            .nav-item {
                min-width: 110px;
            }

            .nav-link {
                padding: 0.6rem 0.8rem;
                font-size: 0.8rem;
            }

            .nav-icon {
                margin-right: 0.5rem;
                width: 20px;
            }

            .nav-icon i {
                font-size: 14px;
            }

            .content-area {
                padding: 1rem;
            }

            .card {
                padding: 1.5rem;
                margin-bottom: 1rem;
                border-radius: 16px;
            }

            .card-header {
                margin-bottom: 1.5rem;
                padding-bottom: 1rem;
            }

            .card-title {
                font-size: 1.3rem;
            }

            .form-group {
                margin-bottom: 1.5rem;
            }

            .form-label {
                font-size: 0.9rem;
                margin-bottom: 0.6rem;
            }

            .form-control,
            .custom-select {
                padding: 0.85rem 1rem;
                font-size: 0.95rem;
            }

            .platform-options {
                gap: 1rem;
                max-width: 100%;
            }

            .platform-option {
                padding: 1.5rem;
                min-height: 130px;
            }

            .platform-icon {
                width: 60px;
                height: 60px;
                margin-bottom: 0.75rem;
            }

            .platform-icon img {
                width: 50px;
                height: 50px;
            }

            .platform-name {
                font-size: 1.1rem;
            }

            .theme-option {
                padding: 1.25rem;
                gap: 1rem;
            }

            .theme-logo {
                width: 100px;
                height: 65px;
            }

            .theme-title {
                font-size: 1.1rem;
            }

            .theme-description {
                font-size: 0.9rem;
            }

            .theme-preview-area {
                padding: 1.5rem;
            }

            .theme-preview-container {
                gap: 1.5rem;
            }

            .theme-preview-desktop {
                min-width: 280px;
                max-width: 100%;
            }

            .theme-preview-desktop img {
                height: 250px;
            }

            .theme-preview-mobile {
                flex: 0 0 140px;
            }

            .theme-preview-mobile img {
                height: 280px;
            }

            .tabs {
                padding: 6px;
                gap: 0.25rem;
            }

            .tab-item {
                padding: 0.6rem 0.8rem;
                font-size: 0.75rem;
                min-width: 80px;
                letter-spacing: 0.25px;
            }

            .tab-icon i {
                font-size: 12px;
            }

            .colors-grid {
                grid-template-columns: 1fr;
                gap: 2rem;
                justify-items: center;
            }

            .color-picker-circle {
                width: 70px;
                height: 70px;
            }

            .color-picker-label {
                font-size: 0.8rem;
                margin-bottom: 0.5rem;
            }

            .color-description {
                font-size: 0.8rem;
            }

            .colors-preview {
                gap: 1rem;
                padding: 1rem;
            }

            .color-sample {
                width: 35px;
                height: 35px;
            }

            .logo-section {
                margin-bottom: 1.5rem;
            }

            .logo-upload-row {
                flex-direction: column;
                gap: 0.75rem;
                padding: 1rem;
            }

            .logo-choose-btn {
                width: 100%;
                padding: 0.75rem;
            }

            .logo-preview-box {
                height: 150px;
            }

            .font-preview-box {
                padding: 1rem;
            }

            .module-category {
                padding: 1.5rem;
                margin-bottom: 1.5rem;
            }

            .category-header {
                margin-bottom: 1.5rem;
                padding-bottom: 1rem;
            }

            .category-title {
                font-size: 1.2rem;
            }

            .module-item {
                padding: 1.25rem;
                margin-bottom: 1rem;
            }

            .module-icon {
                width: 50px;
                height: 50px;
                font-size: 1.2rem;
                margin-bottom: 0.75rem;
            }

            .module-name {
                font-size: 1rem;
                margin-bottom: 0.5rem;
            }

            .module-description {
                font-size: 0.9rem;
            }

            .module-features {
                gap: 0.4rem;
                margin-top: 0.75rem;
            }

            .feature-tag {
                font-size: 0.7rem;
                padding: 0.2rem 0.6rem;
            }

            .module-btn {
                padding: 0.45rem 0.85rem;
                font-size: 0.85rem;
                min-width: 70px;
            }

            .dependencies {
                gap: 0.75rem;
                justify-content: center;
            }

            .dependency-item {
                width: 100px;
                padding: 0.75rem 0.5rem;
                min-height: 100px;
            }

            .dependency-icon {
                width: 40px;
                height: 40px;
                margin-bottom: 0.75rem;
            }

            .dependency-logo {
                width: 28px;
                height: 28px;
            }

            .dependency-name {
                font-size: 0.8rem;
                margin-bottom: 0.4rem;
            }

            .dependency-version {
                font-size: 0.7rem;
                padding: 0.2rem 0.4rem;
            }

            .summary-section {
                padding: 1.5rem;
                margin-bottom: 1.5rem;
            }

            .summary-title {
                font-size: 1.2rem;
                margin-bottom: 1rem;
                padding-bottom: 0.75rem;
            }

            .summary-item {
                padding: 0.75rem 0.5rem;
                margin-bottom: 0.75rem;
            }

            .summary-label {
                font-size: 0.85rem;
                margin-bottom: 0.4rem;
            }

            .summary-value {
                font-size: 0.85rem;
            }

            .module-tag {
                font-size: 0.7rem;
                padding: 0.35rem 0.7rem;
            }

            .build-deploy-section {
                padding: 1.5rem;
                margin-top: 1.5rem;
            }

            .btn {
                width: 100%;
                justify-content: center;
                padding: 0.85rem 1.5rem;
                font-size: 0.9rem;
            }

            .builds-table {
                min-width: 600px;
            }

            .builds-table th,
            .builds-table td {
                padding: 0.75rem 0.5rem;
                font-size: 0.85rem;
            }

            .site-info {
                gap: 0.5rem;
            }

            .site-avatar {
                width: 30px;
                height: 30px;
                font-size: 0.9rem;
            }

            .site-name {
                font-size: 0.9rem;
            }

            .site-description {
                font-size: 0.75rem;
            }

            .action-buttons {
                flex-direction: column;
                gap: 0.25rem;
                align-items: stretch;
            }

            .btn-sm {
                width: 100%;
                font-size: 0.75rem;
                padding: 0.4rem 0.6rem;
            }

            .profile-header {
                flex-direction: column;
                text-align: center;
                gap: 1rem;
            }

            .profile-avatar {
                width: 60px;
                height: 60px;
                font-size: 1.5rem;
                margin-right: 0;
                align-self: center;
            }

            .modal-content {
                width: 98%;
                margin: 0.5rem;
                max-height: 90vh;
            }

            .modal-header {
                padding: 1rem 1.25rem;
            }

            .modal-title {
                font-size: 1.2rem;
            }

            .modal-body {
                padding: 1rem 1.25rem;
            }

            .modal-tabs {
                flex-wrap: wrap;
                gap: 0.25rem;
                padding: 4px;
            }

            .modal-tab {
                padding: 0.75rem 1rem;
                font-size: 0.8rem;
                min-width: 100px;
                flex: 1;
            }

            .preview-desktop {
                height: 300px;
            }

            .preview-mobile {
                width: 200px;
                height: 400px;
            }

            .toast {
                top: 1rem;
                right: 1rem;
                left: 1rem;
                max-width: none;
            }
        }

        /* Mobile Small (320px - 479px) */
        @media (max-width: 479px) {
            .login-card {
                padding: 1.5rem 1.25rem;
                margin: 0.75rem;
                max-width: 320px;
            }

            .login-logo-text {
                font-size: 1.6rem;
            }

            .login-title {
                font-size: 1.2rem;
            }

            .login-demo-info {
                font-size: 0.8rem;
                padding: 0.85rem;
            }

            header {
                padding: 0.75rem 1rem;
            }

            .logo-text {
                font-size: 1rem;
            }

            .header-content {
                gap: 0.5rem;
            }

            .wizard-navigation {
                gap: 0.5rem;
            }

            .wizard-navigation .btn {
                padding: 0.5rem 1rem;
                font-size: 0.8rem;
                flex: 1;
            }

            .step-indicator {
                font-size: 0.8rem;
                padding: 0.35rem 0.7rem;
            }

            .sidebar {
                padding: 0.5rem;
                max-height: 120px;
            }

            .nav-list {
                gap: 0.3rem;
                margin-bottom: 0.5rem;
            }

            .nav-item {
                min-width: 90px;
            }

            .nav-link {
                padding: 0.5rem 0.6rem;
                font-size: 0.75rem;
            }

            .nav-icon {
                margin-right: 0.4rem;
                width: 16px;
            }

            .nav-icon i {
                font-size: 12px;
            }

            .content-area {
                padding: 0.75rem;
            }

            .card {
                padding: 1.25rem;
                margin-bottom: 0.75rem;
                border-radius: 14px;
            }

            .card-header {
                margin-bottom: 1.25rem;
                padding-bottom: 0.75rem;
            }

            .card-title {
                font-size: 1.2rem;
            }

            .form-group {
                margin-bottom: 1.25rem;
            }

            .form-label {
                font-size: 0.85rem;
                margin-bottom: 0.5rem;
            }

            .form-control,
            .custom-select {
                padding: 0.75rem 0.9rem;
                font-size: 0.9rem;
            }

            .alert {
                padding: 1rem;
                font-size: 0.85rem;
            }

            .platform-option {
                padding: 1.25rem;
                min-height: 120px;
            }

            .platform-icon {
                width: 50px;
                height: 50px;
                margin-bottom: 0.6rem;
            }

            .platform-icon img {
                width: 40px;
                height: 40px;
            }

            .platform-name {
                font-size: 1rem;
            }

            .theme-option {
                padding: 1rem;
                gap: 0.75rem;
            }

            .theme-logo {
                width: 80px;
                height: 50px;
            }

            .theme-title {
                font-size: 1rem;
            }

            .theme-description {
                font-size: 0.85rem;
            }

            .license-tag {
                font-size: 0.65rem;
                padding: 0.35rem 0.7rem;
            }

            .theme-preview-area {
                padding: 1rem;
            }

            .theme-preview-container {
                gap: 1rem;
            }

            .theme-preview-desktop {
                min-width: 250px;
            }

            .theme-preview-desktop img {
                height: 200px;
            }

            .theme-preview-mobile {
                flex: 0 0 120px;
            }

            .theme-preview-mobile img {
                height: 240px;
            }

            .tabs {
                padding: 4px;
                gap: 0.2rem;
            }

            .tab-item {
                padding: 0.5rem 0.6rem;
                font-size: 0.7rem;
                min-width: 70px;
                letter-spacing: 0.2px;
            }

            .tab-icon i {
                font-size: 10px;
            }

            .color-picker-circle {
                width: 60px;
                height: 60px;
            }

            .color-picker-label {
                font-size: 0.75rem;
                margin-bottom: 0.4rem;
            }

            .color-description {
                font-size: 0.75rem;
            }

            .colors-preview {
                gap: 0.75rem;
                padding: 0.85rem;
            }

            .color-sample {
                width: 30px;
                height: 30px;
            }

            .logo-upload-row {
                padding: 0.85rem;
            }

            .logo-choose-btn {
                padding: 0.65rem;
                font-size: 0.85rem;
            }

            .logo-preview-box {
                height: 120px;
            }

            .logo-requirements {
                font-size: 0.8rem;
            }

            .font-preview-box {
                padding: 0.85rem;
            }

            .font-preview-text {
                font-size: 0.85rem !important;
                margin-bottom: 0.4rem;
            }

            .module-category {
                padding: 1.25rem;
                margin-bottom: 1.25rem;
            }

            .category-header {
                margin-bottom: 1.25rem;
                padding-bottom: 0.85rem;
            }

            .category-title {
                font-size: 1.1rem;
            }

            .category-description {
                font-size: 0.9rem;
            }

            .module-item {
                padding: 1rem;
                margin-bottom: 0.85rem;
            }

            .module-icon {
                width: 45px;
                height: 45px;
                font-size: 1.1rem;
                margin-bottom: 0.6rem;
            }

            .module-name {
                font-size: 0.95rem;
                margin-bottom: 0.4rem;
            }

            .module-description {
                font-size: 0.85rem;
            }

            .module-features {
                gap: 0.3rem;
                margin-top: 0.6rem;
            }

            .feature-tag {
                font-size: 0.65rem;
                padding: 0.15rem 0.5rem;
            }

            .module-btn {
                padding: 0.4rem 0.75rem;
                font-size: 0.8rem;
                min-width: 60px;
            }

            .module-badge {
                font-size: 0.6rem;
                padding: 0.2rem 0.4rem;
                margin-left: 0.3rem;
            }

            .dependencies {
                gap: 0.5rem;
            }

            .dependency-item {
                width: 85px;
                padding: 0.6rem 0.4rem;
                min-height: 90px;
            }

            .dependency-icon {
                width: 35px;
                height: 35px;
                margin-bottom: 0.6rem;
            }

            .dependency-logo {
                width: 24px;
                height: 24px;
            }

            .dependency-name {
                font-size: 0.75rem;
                margin-bottom: 0.3rem;
            }

            .dependency-version {
                font-size: 0.65rem;
                padding: 0.15rem 0.35rem;
            }

            .summary-section {
                padding: 1.25rem;
                margin-bottom: 1.25rem;
            }

            .summary-title {
                font-size: 1.1rem;
                margin-bottom: 0.85rem;
                padding-bottom: 0.6rem;
            }

            .summary-item {
                padding: 0.6rem 0.4rem;
                margin-bottom: 0.6rem;
            }

            .summary-label {
                font-size: 0.8rem;
                margin-bottom: 0.3rem;
            }

            .summary-value {
                font-size: 0.8rem;
            }

            .module-tag {
                font-size: 0.65rem;
                padding: 0.3rem 0.6rem;
            }

            .build-deploy-section {
                padding: 1.25rem;
                margin-top: 1.25rem;
            }

            .btn {
                padding: 0.75rem 1.25rem;
                font-size: 0.85rem;
            }

            .builds-table {
                min-width: 550px;
            }

            .builds-table th,
            .builds-table td {
                padding: 0.6rem 0.4rem;
                font-size: 0.8rem;
            }

            .site-info {
                gap: 0.4rem;
            }

            .site-avatar {
                width: 25px;
                height: 25px;
                font-size: 0.8rem;
            }

            .site-name {
                font-size: 0.85rem;
            }

            .site-description {
                font-size: 0.7rem;
            }

            .version-tag {
                font-size: 0.7rem;
                padding: 0.25rem 0.5rem;
            }

            .btn-sm {
                font-size: 0.7rem;
                padding: 0.35rem 0.5rem;
            }

            .profile-avatar {
                width: 50px;
                height: 50px;
                font-size: 1.3rem;
            }

            .modal-content {
                width: 100%;
                margin: 0;
                max-height: 100vh;
                border-radius: 0;
            }

            .modal-header {
                padding: 0.85rem 1rem;
            }

            .modal-title {
                font-size: 1.1rem;
            }

            .modal-body {
                padding: 0.85rem 1rem;
            }

            .modal-tab {
                padding: 0.6rem 0.8rem;
                font-size: 0.75rem;
                min-width: 80px;
            }

            .preview-desktop {
                height: 250px;
            }

            .preview-mobile {
                width: 160px;
                height: 320px;
            }

            .toast {
                top: 0.5rem;
                right: 0.5rem;
                left: 0.5rem;
                border-radius: 8px;
            }

            .toast-content {
                padding: 0.75rem 1rem;
            }

            .toast-message {
                font-size: 0.85rem;
            }
        }

        /* Extra Small Mobile (max-width: 319px) */
        @media (max-width: 319px) {
            .login-card {
                padding: 1.25rem 1rem;
                margin: 0.5rem;
            }

            .login-logo-text {
                font-size: 1.4rem;
            }

            .login-title {
                font-size: 1.1rem;
            }

            header {
                padding: 0.5rem 0.75rem;
            }

            .header-content {
                gap: 0.4rem;
            }

            .wizard-navigation .btn {
                padding: 0.45rem 0.8rem;
                font-size: 0.75rem;
            }

            .step-indicator {
                font-size: 0.75rem;
                padding: 0.3rem 0.6rem;
            }

            .content-area {
                padding: 0.5rem;
            }

            .card {
                padding: 1rem;
                margin-bottom: 0.6rem;
            }

            .card-title {
                font-size: 1.1rem;
            }

            .platform-option {
                padding: 1rem;
                min-height: 100px;
            }

            .platform-icon {
                width: 40px;
                height: 40px;
                margin-bottom: 0.5rem;
            }

            .platform-icon img {
                width: 32px;
                height: 32px;
            }

            .platform-name {
                font-size: 0.9rem;
            }

            .theme-option {
                padding: 0.85rem;
            }

            .theme-logo {
                width: 70px;
                height: 45px;
            }

            .tabs {
                padding: 3px;
            }

            .tab-item {
                padding: 0.4rem 0.5rem;
                font-size: 0.65rem;
                min-width: 60px;
            }

            .color-picker-circle {
                width: 50px;
                height: 50px;
            }

            .module-item {
                padding: 0.85rem;
            }

            .module-icon {
                width: 40px;
                height: 40px;
                font-size: 1rem;
            }

            .dependency-item {
                width: 75px;
                padding: 0.5rem 0.3rem;
                min-height: 80px;
            }

            .dependency-icon {
                width: 30px;
                height: 30px;
            }

            .dependency-logo {
                width: 20px;
                height: 20px;
            }

            .dependency-name {
                font-size: 0.7rem;
            }

            .dependency-version {
                font-size: 0.6rem;
                padding: 0.1rem 0.3rem;
            }

            .summary-section {
                padding: 1rem;
            }

            .modal-content {
                border-radius: 0;
            }

            .preview-desktop {
                height: 200px;
            }

            .preview-mobile {
                width: 140px;
                height: 280px;
            }
        }

        /* Build Progress Modal Styles */
        .build-progress {
            margin-bottom: 2rem;
        }

        .build-step {
            display: flex;
            align-items: center;
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: 8px;
            background: rgba(248, 249, 250, 0.8);
            border: 1px solid var(--border);
            transition: all 0.3s ease;
        }

        .build-step.active {
            background: var(--primary-light);
            border-color: var(--primary);
        }

        .build-step.building {
            background: rgba(255, 193, 7, 0.1);
            border-color: var(--warning);
            animation: buildingPulse 2s infinite;
        }

        .build-step.complete {
            background: rgba(40, 167, 69, 0.1);
            border-color: var(--success);
        }

        @keyframes buildingPulse {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.02);
            }
        }

        .build-step-icon {
            font-size: 1.2rem;
            margin-right: 1rem;
            width: 40px;
            text-align: center;
            color: var(--primary);
        }

        .build-step-text {
            flex: 1;
            font-weight: 500;
        }

        .build-step-status {
            font-size: 0.9rem;
            font-weight: 600;
        }

        .build-progress-bar {
            width: 100%;
            height: 8px;
            background: var(--gray-light);
            border-radius: 10px;
            margin-bottom: 1rem;
            overflow: hidden;
        }

        .build-progress-fill {
            height: 100%;
            background: var(--gradient);
            transition: width 0.5s ease;
            border-radius: 10px;
        }

        .build-estimated-time {
            text-align: center;
            color: var(--gray);
            font-size: 0.9rem;
        }

        /* Mobile adjustments for build progress */
        @media (max-width: 767px) {
            .build-step {
                padding: 0.85rem;
                margin-bottom: 0.85rem;
            }

            .build-step-icon {
                font-size: 1rem;
                margin-right: 0.75rem;
                width: 30px;
            }

            .build-step-text {
                font-size: 0.9rem;
            }

            .build-step-status {
                font-size: 0.8rem;
            }
        }

        @media (max-width: 479px) {
            .build-step {
                padding: 0.75rem;
                flex-direction: column;
                text-align: center;
                gap: 0.5rem;
            }

            .build-step-icon {
                margin-right: 0;
                margin-bottom: 0.25rem;
            }

            .build-step-text {
                font-size: 0.85rem;
            }

            .build-step-status {
                font-size: 0.75rem;
            }
        }
    </style>
</head>

<body>
    <a href="#main-content" class="skip-to-content">Skip to content</a>

    <!-- Login Page -->
    <div class="login-container" id="login-page">
        <div class="login-card">
            <div class="login-logo">
                <div class="login-logo-text">Corefinity</div>
            </div>
            <h1 class="login-title">Welcome Back</h1>
            <p class="login-subtitle">Access your Magento configuration wizard</p>

            <div class="login-demo-info">
                <strong>Demo Credentials:</strong><br>
                Username: <code>demo</code><br>
                Password: <code>demo</code>
            </div>

            <form class="login-form" id="login-form">
                <div class="form-group">
                    <label for="username" class="form-label">Username</label>
                    <input type="text" class="form-control" id="username" required placeholder="Enter username"
                        aria-describedby="username-help">
                    <span id="username-help" class="form-text sr-only">Enter your username to log in</span>
                </div>
                <div class="form-group">
                    <label for="password" class="form-label">Password</label>
                    <input type="password" class="form-control" id="password" required placeholder="Enter password"
                        aria-describedby="password-help">
                    <span id="password-help" class="form-text sr-only">Enter your password to log in</span>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">
                    Sign In
                </button>
            </form>
            <div class="login-footer">
                Â© 2024 Corefinity. All rights reserved.
            </div>
        </div>
    </div>

    <!-- Main Wizard Container -->
    <div class="wizard-container" id="wizard-container">
        <header>
            <div class="header-content">
                <div class="logo">
                    <div class="logo-text">Corefinity Magento Wizard</div>
                </div>
                <div class="header-right">
                    <div class="step-indicator">Step <span id="current-step">1</span> of 6</div>
                    <div class="wizard-navigation">
                        <button class="btn btn-secondary" id="back-btn" disabled>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <polyline points="15,18 9,12 15,6"></polyline>
                            </svg>
                            Back
                        </button>
                        <button class="btn btn-primary" id="next-btn" disabled>
                            Next Step
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <polyline points="9,18 15,12 9,6"></polyline>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
            <div class="progress-bar" role="progressbar" aria-valuenow="16.67" aria-valuemin="0" aria-valuemax="100">
                <div class="progress-fill" style="width: 16.67%;"></div>
            </div>
        </header>

        <div class="main-content" id="main-content">
            <nav class="sidebar" aria-label="Wizard Navigation">
                <ul class="nav-list">
                    <li class="nav-item">
                        <a href="#" class="nav-link active" data-step="1" aria-current="page">
                            <span class="nav-icon">
                                <i class="fas fa-store"></i>
                            </span>
                            Store Info
                            <span class="step-validation incomplete" data-step="1" aria-label="Step incomplete">!</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link disabled" data-step="2" aria-disabled="true">
                            <span class="nav-icon">
                                <i class="fas fa-server"></i>
                            </span>
                            System
                            <span class="step-validation incomplete" data-step="2" aria-label="Step incomplete">!</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link disabled" data-step="3" aria-disabled="true">
                            <span class="nav-icon">
                                <i class="fas fa-palette"></i>
                            </span>
                            Styles
                            <span class="step-validation incomplete" data-step="3" aria-label="Step incomplete">!</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link disabled" data-step="4" aria-disabled="true">
                            <span class="nav-icon">
                                <i class="fas fa-puzzle-piece"></i>
                            </span>
                            Plugins
                            <span class="step-validation incomplete" data-step="4" aria-label="Step incomplete">!</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link disabled" data-step="5" aria-disabled="true">
                            <span class="nav-icon">
                                <i class="fas fa-database"></i>
                            </span>
                            Sample Data
                            <span class="step-validation incomplete" data-step="5" aria-label="Step incomplete">!</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link disabled" data-step="6" aria-disabled="true">
                            <span class="nav-icon">
                                <i class="fas fa-clipboard-list"></i>
                            </span>
                            Summary
                            <span class="step-validation incomplete" data-step="6" aria-label="Step incomplete">!</span>
                        </a>
                    </li>
                </ul>

                <div class="nav-bottom">
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="#" class="nav-link" id="profile-btn">
                                <span class="nav-icon">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2">
                                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                        <circle cx="12" cy="7" r="4"></circle>
                                    </svg>
                                </span>
                                Profile
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" id="my-sites-btn">
                                <span class="nav-icon">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2">
                                        <circle cx="12" cy="12" r="10"></circle>
                                        <line x1="2" y1="12" x2="22" y2="12"></line>
                                        <path
                                            d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z">
                                        </path>
                                    </svg>
                                </span>
                                My Sites
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" id="logout-btn">
                                <span class="nav-icon">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2">
                                        <path d="M9 21H5a2 2 0 0 0-2-2V5a2 2 0 0 0 2-2h4"></path>
                                        <polyline points="16,17 21,12 16,7"></polyline>
                                        <line x1="21" y1="12" x2="9" y2="12"></line>
                                    </svg>
                                </span>
                                Logout
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <div class="content-area">
                <!-- Store Info Section -->
                <div class="card" id="store-info-section">
                    <div class="card-header">
                        <h2 class="card-title">Let's Build Your Fresh Magento Website</h2>
                    </div>

                    <p style="margin-bottom: 2rem; color: var(--gray); line-height: 1.6; font-size: 1.1rem;">
                        Corefinity Magento Wizard is a no-code solution for building and deploying a fully functional
                        Magento store. Simply input some basic information throughout the guided steps to configure your
                        store, including our approved third parties ensuring your site is tailored to you and your
                        Magento Store.
                    </p>

                    <div class="form-group">
                        <label for="store-name" class="form-label">Store Name</label>
                        <div class="custom-select-container">
                            <select class="form-control custom-select" id="store-name" required
                                aria-describedby="store-name-help">
                                <option value="">Select a store</option>
                                <option value="sample-store">Sample Store</option>
                                <option value="new-store">+ Create New Store</option>
                            </select>
                        </div>
                        <span id="store-name-help" class="form-text">Choose an existing store or create a new one</span>
                    </div>

                    <div class="form-group hidden" id="new-store-name-group">
                        <label for="new-store-name" class="form-label">New Store Name</label>
                        <input type="text" class="form-control" id="new-store-name" placeholder="Enter your store name"
                            aria-describedby="store-name-availability">
                        <div id="store-name-availability" class="form-text"></div>
                    </div>

                    <div class="alert" role="alert">
                        <div class="alert-icon">â„¹ï¸</div>
                        <div>
                            <strong>Licensing:</strong> Depending on your modules and themes, you may need to add your
                            license keys to demo and/or download your development-ready package.
                        </div>
                    </div>
                </div>

                <!-- System Section -->
                <div class="card hidden" id="system-section">
                    <div class="card-header">
                        <h2 class="card-title">Environment Setup</h2>
                    </div>

                    <p style="margin-bottom: 2rem; color: var(--gray); font-size: 1.1rem;">Select your Platform</p>

                    <div class="platform-options" role="radiogroup" aria-label="Platform selection">
                        <div class="platform-option" data-platform="magento" tabindex="0" role="radio"
                            aria-checked="false">
                            <div class="platform-icon">
                                <img src="https://upload.wikimedia.org/wikipedia/commons/5/55/Magento_Logo.svg"
                                    alt="Magento platform logo">
                            </div>
                            <div class="platform-name">Magento</div>
                        </div>

                        <div class="platform-option" data-platform="laravel" tabindex="0" role="radio"
                            aria-checked="false">
                            <div class="platform-icon">
                                <img src="https://upload.wikimedia.org/wikipedia/commons/9/9a/Laravel.svg"
                                    alt="Laravel platform logo">
                            </div>
                            <div class="platform-name">Laravel</div>
                        </div>

                        <div class="platform-option" data-platform="wordpress" tabindex="0" role="radio"
                            aria-checked="false">
                            <div class="platform-icon">
                                <img src="wordpress.png"
                                    alt="WordPress platform logo">
                            </div>
                            <div class="platform-name">WordPress</div>
                        </div>
                    </div>

                    <div class="form-group hidden" id="version-select-group">
                        <label for="version-select" class="form-label">Select Version</label>
                        <div class="custom-select-container">
                            <select class="form-control custom-select" id="version-select" required>
                                <option value="">Select a version</option>
                            </select>
                        </div>
                    </div>

                    <div id="dependencies-container" class="hidden">
                        <h3
                            style="margin: 2rem 0 1.5rem; color: var(--gray-dark); font-weight: 600; font-size: 1.3rem;">
                            Version Dependencies
                        </h3>

                        <div class="dependencies">
                            <div class="dependency-item">
                                <div class="dependency-icon">
                                    <img src="php.png" alt="PHP"
                                        class="dependency-logo" />
                                </div>
                                <div class="dependency-name">PHP</div>
                                <div class="dependency-version" id="php-version">8.1</div>
                            </div>

                            <div class="dependency-item">
                                <div class="dependency-icon">
                                    <img src="mariadb.png"
                                        alt="MariaDB" class="dependency-logo" />
                                </div>
                                <div class="dependency-name">MariaDB</div>
                                <div class="dependency-version" id="mariadb-version">10.4</div>
                            </div>

                            <div class="dependency-item">
                                <div class="dependency-icon">
                                    <img src="redis.png" alt="Redis"
                                        class="dependency-logo" />
                                </div>
                                <div class="dependency-name">Redis</div>
                                <div class="dependency-version" id="redis-version">6.2</div>
                            </div>

                            <div class="dependency-item">
                                <div class="dependency-icon">
                                    <img src="opensearch.png"
                                        alt="OpenSearch" class="dependency-logo" />
                                </div>
                                <div class="dependency-name">OpenSearch</div>
                                <div class="dependency-version" id="opensearch-version">2.6</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Styles Section -->
                <div class="card hidden" id="styles-section">
                    <div class="card-header">
                        <h2 class="card-title">Choose Your Frontend Framework</h2>
                        <div class="card-actions">
                            <button class="btn btn-primary" id="preview-theme-btn" aria-label="Preview theme">
                                Preview Theme
                            </button>
                        </div>
                    </div>

                    <div class="tabs" role="tablist">
                        <button class="tab-item active" data-tab="theme" role="tab" aria-selected="true"
                            aria-controls="theme-tab">
                            <span class="tab-icon"><i class="fas fa-palette"></i></span>
                            Theme
                        </button>
                        <button class="tab-item" data-tab="logo" role="tab" aria-selected="false"
                            aria-controls="logo-tab">
                            <span class="tab-icon"><i class="fas fa-image"></i></span>
                            Logo
                        </button>
                        <button class="tab-item" data-tab="colors" role="tab" aria-selected="false"
                            aria-controls="colors-tab">
                            <span class="tab-icon"><i class="fas fa-paint-brush"></i></span>
                            Colours
                        </button>
                        <button class="tab-item" data-tab="font" role="tab" aria-selected="false"
                            aria-controls="font-tab">
                            <span class="tab-icon"><i class="fas fa-font"></i></span>
                            Font
                        </button>
                    </div>

                    <div class="tab-content active" id="theme-tab" role="tabpanel" aria-labelledby="theme-tab">
                        <div class="form-group">
                            <label class="form-label">Select Your Theme</label>
                            <div class="theme-options" role="radiogroup" aria-label="Theme selection">
                                <div class="theme-option selected" data-theme="luma" tabindex="0" role="radio"
                                    aria-checked="true">
                                    <div class="theme-logo-section">
                                        <img src="luma.png" alt="Luma Theme Logo" class="theme-logo">
                                    </div>
                                    <div class="theme-content">
                                        <h3 class="theme-title">Luma</h3>
                                        <p class="theme-description">
                                            Magento's default frontend theme, offering a traditional setup with built-in
                                            compatibility for most extensions. It's a familiar choice but can be styled
                                            and
                                            more resource-intensive.
                                        </p>
                                    </div>
                                    <div class="theme-selection-radio">
                                        <input type="radio" name="theme" value="luma" checked />
                                    </div>
                                </div>

                                <div class="theme-option" data-theme="hyva" tabindex="0" role="radio"
                                    aria-checked="false">
                                    <div class="theme-logo-section">
                                        <img src="hyva.png" alt="HyvÃ¤ Theme Logo" class="theme-logo">
                                    </div>
                                    <div class="theme-content">
                                        <h3 class="theme-title">HyvÃ¤ Theme <span class="license-tag">License Key
                                                Needed</span></h3>
                                        <p class="theme-description">
                                            A modern, lightweight alternative designed for speed and performance. HyvÃ¤
                                            significantly improves site load times and user experience while reducing
                                            complexity.
                                        </p>
                                    </div>
                                    <div class="theme-selection-radio">
                                        <input type="radio" name="theme" value="hyva" />
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="theme-preview-area">
                            <h4>Preview</h4>
                            <div class="theme-preview-container">
                                <div class="theme-preview-desktop">
                                    <div class="address-bar"></div>
                                    <img id="desktop-theme-preview" src="luma_desktop.png" alt="Desktop theme preview">
                                </div>
                                <div class="theme-preview-mobile">
                                    <img id="mobile-theme-preview" src="luma mobile.png" alt="Mobile theme preview">
                                    <div class="home-indicator"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="tab-content" id="logo-tab" role="tabpanel" aria-labelledby="logo-tab">
                        <div class="logos-container">
                            <div class="logos-header">
                                <h3>Logos</h3>
                                <p class="logos-subtitle">Upload both formats of your companies logo</p>
                            </div>

                            <!-- Desktop Logo Section -->
                            <div class="logo-section">
                                <div class="logo-section-title">Desktop Logo</div>
                                <div class="logo-upload-row">
                                    <button type="button" class="logo-choose-btn"
                                        onclick="document.getElementById('desktop-logo-input').click()">
                                        Choose file
                                    </button>
                                    <div class="logo-filename" id="desktop-filename">No file chosen</div>
                                </div>
                                <div class="logo-requirements">
                                    Maximum size: 500KB. Allowed formats: jpg, jpeg, png, svg
                                </div>
                                <input type="file" id="desktop-logo-input" class="file-input"
                                    accept=".jpg,.jpeg,.png,.svg" />

                                <div class="logo-preview-box" id="desktop-preview-box">
                                    <img id="desktop-logo-preview" class="logo-preview-img hidden"
                                        alt="Desktop logo preview" />
                                    <div class="logo-placeholder" id="desktop-placeholder">Logo preview will appear here
                                    </div>
                                </div>
                            </div>

                            <!-- Mobile Logo Section -->
                            <div class="logo-section">
                                <div class="logo-section-title">Mobile Logo</div>
                                <div class="logo-upload-row">
                                    <button type="button" class="logo-choose-btn"
                                        onclick="document.getElementById('mobile-logo-input').click()">
                                        Choose file
                                    </button>
                                    <div class="logo-filename" id="mobile-filename">No file chosen</div>
                                </div>
                                <div class="logo-requirements">
                                    Maximum size: 100x50px. Allowed formats: jpg, jpeg, png, svg
                                </div>
                                <input type="file" id="mobile-logo-input" class="file-input"
                                    accept=".jpg,.jpeg,.png,.svg" />

                                <div class="logo-preview-box" id="mobile-preview-box">
                                    <img id="mobile-logo-preview" class="logo-preview-img hidden"
                                        alt="Mobile logo preview" />
                                    <div class="logo-placeholder" id="mobile-placeholder">Logo preview will appear here
                                    </div>
                                </div>
                            </div>

                            <!-- Preview Theme Button -->
                            <button class="btn btn-primary preview-theme-btn" id="preview-logo-btn">
                                Preview Theme
                            </button>
                        </div>
                    </div>

                    <div class="tab-content" id="colors-tab" role="tabpanel" aria-labelledby="colors-tab">
                        <div class="colors-container">
                            <div class="colors-header">
                                <h3>Colours</h3>
                                <p class="colors-subtitle">Customize your brand colors</p>
                            </div>

                            <div class="colors-grid">
                                <div class="color-picker-group">
                                    <div class="color-picker-wrapper">
                                        <div class="color-picker-circle" style="background-color: #1976d2;"
                                            onclick="document.getElementById('primary-color').click()">
                                            <input type="color" class="color-picker-input" id="primary-color"
                                                value="#1976d2" />
                                        </div>
                                    </div>
                                    <div class="color-picker-label">PRIMARY COLOUR</div>
                                    <div class="color-description">Used for main actions and highlights</div>
                                </div>

                                <div class="color-picker-group">
                                    <div class="color-picker-wrapper">
                                        <div class="color-picker-circle" style="background-color: #7986cb;"
                                            onclick="document.getElementById('secondary-color').click()">
                                            <input type="color" class="color-picker-input" id="secondary-color"
                                                value="#7986cb" />
                                        </div>
                                    </div>
                                    <div class="color-picker-label">SECONDARY COLOUR</div>
                                    <div class="color-description">Used for secondary buttons and accents</div>
                                </div>

                                <div class="color-picker-group">
                                    <div class="color-picker-wrapper">
                                        <div class="color-picker-circle" style="background-color: #2ccb8d;"
                                            onclick="document.getElementById('tertiary-color').click()">
                                            <input type="color" class="color-picker-input" id="tertiary-color"
                                                value="#2ccb8d" />
                                        </div>
                                    </div>
                                    <div class="color-picker-label">TERTIARY COLOUR</div>
                                    <div class="color-description">Used for alerts and informational messages</div>
                                </div>
                            </div>

                            <div class="colors-preview">
                                <div class="color-sample" id="primary-sample" style="background-color: #1976d2;"></div>
                                <div class="color-sample" id="secondary-sample" style="background-color: #7986cb;">
                                </div>
                                <div class="color-sample" id="tertiary-sample" style="background-color: #2ccb8d;"></div>
                            </div>

                            <button class="btn btn-primary preview-theme-btn" id="preview-colors-btn">Preview
                                Theme</button>
                        </div>
                    </div>

                    <div class="tab-content" id="font-tab" role="tabpanel" aria-labelledby="font-tab">
                        <div class="fonts-container">
                            <h3>Fonts</h3>

                            <div class="font-checkbox-wrapper">
                                <input type="checkbox" id="use-default-font" checked />
                                <label for="use-default-font">Use Default Theme Font</label>
                            </div>

                            <div class="font-search-wrapper disabled" id="font-search-wrapper">
                                <input type="text" class="font-search-input" placeholder="Search Google Fonts..."
                                    disabled />
                            </div>

                            <div class="font-preview-box">
                                <div class="font-preview-text" style="font-size: 1.2rem;">The quick brown fox jumps over
                                    the lazy dog.</div>
                                <div class="font-preview-text" style="font-size: 1rem;">ABCDEFGHIJKLMNOPQRSTUVWXYZ</div>
                                <div class="font-preview-text" style="font-size: 0.9rem;">abcdefghijklmnopqrstuvwxyz
                                    1234567890</div>
                            </div>


                        </div>
                    </div>
                </div>

                <!-- Modules Section -->
                <div class="card hidden" id="modules-section">
                    <div class="card-header">
                        <h2 class="card-title">Plugins</h2>
                    </div>

                    <p style="margin-bottom: 2rem; color: var(--gray); font-size: 1.1rem;">Select the plugins you want
                        to enable</p>

                    <!-- Payment Modules -->
                    <div class="module-category">
                        <div class="category-header">
                            <h3 class="category-title">Payments</h3>
                            <p class="category-description">
                                Magento payment service provider extensions enable secure payment processing, offering
                                multiple payment methods, fraud prevention, and integration with various payment
                                gateways.
                            </p>
                        </div>

                        <div class="module-list">
                            <div class="module-item selected" data-module="ppcp">
                                <div class="module-icon">
                                    <img src="paypal.png" alt="PayPal" class="module-logo" />
                                </div>
                                <div class="module-content">
                                    <div class="module-header">
                                        <div>
                                            <div class="module-name">PayPal Complete Payments (PPCP) <span
                                                    class="module-badge recommended">Recommended</span></div>
                                            <div class="module-description">The most comprehensive PayPal integration
                                                available. Includes PayPal, PayPal Credit, Venmo, Apple Pay, Google Pay,
                                                and local payment methods. Features advanced fraud protection, seamless
                                                checkout experience, and global payment support across 200+ markets.
                                            </div>
                                            <div class="module-features">
                                                <span class="feature-tag">Fraud Protection</span>
                                                <span class="feature-tag">Global Payments</span>
                                                <span class="feature-tag">Mobile Optimized</span>
                                                <span class="feature-tag">One-Click Checkout</span>
                                            </div>
                                        </div>
                                        <div class="module-actions">
                                            <button class="btn btn-danger btn-sm module-btn" data-module="ppcp"
                                                aria-label="Remove PayPal Complete Payments">
                                                Remove
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="module-item" data-module="fastlane">
                                <div class="module-icon">F</div>
                                <div class="module-content">
                                    <div class="module-header">
                                        <div>
                                            <div class="module-name">PayPal Fastlane <span
                                                    class="module-badge new">New</span></div>
                                            <div class="module-description">Revolutionary one-click checkout solution
                                                that can increase conversion rates by up to 40%. Remembers customer
                                                payment information securely across all participating merchants,
                                                enabling lightning-fast repeat purchases with just one click.</div>
                                            <div class="module-features">
                                                <span class="feature-tag">1-Click Checkout</span>
                                                <span class="feature-tag">+40% Conversion</span>
                                                <span class="feature-tag">Cross-Merchant Memory</span>
                                                <span class="feature-tag">Bank-Level Security</span>
                                            </div>
                                        </div>
                                        <div class="module-actions">
                                            <button class="btn btn-accent btn-sm module-btn" data-module="fastlane"
                                                aria-label="Add PayPal Fastlane">
                                                Add
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="module-item" data-module="mollie">
                                <div class="module-icon">M</div>
                                <div class="module-content">
                                    <div class="module-header">
                                        <div>
                                            <div class="module-name">Mollie Payments <span
                                                    class="module-badge european">EU
                                                    Focused</span></div>
                                            <div class="module-description">Europe's leading payment processor
                                                supporting 25+ payment methods including iDEAL, Bancontact, SOFORT, and
                                                SEPA Direct Debit. Perfect for European markets with transparent
                                                pricing, instant settlement, and comprehensive reporting dashboard.
                                            </div>
                                            <div class="module-features">
                                                <span class="feature-tag">EU Optimized</span>
                                                <span class="feature-tag">Transparent Pricing</span>
                                                <span class="feature-tag">Advanced Analytics</span>
                                                <span class="feature-tag">Instant Settlement</span>
                                            </div>
                                        </div>
                                        <div class="module-actions">
                                            <button class="btn btn-accent btn-sm module-btn" data-module="mollie"
                                                aria-label="Add Mollie Payments">
                                                Add
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Address Finder Modules -->
                    <div class="module-category">
                        <div class="category-header">
                            <h3 class="category-title">Address Finder</h3>
                            <p class="category-description">
                                An address finder helps users quickly auto-complete their address during checkout,
                                reducing errors and speeding up the process with suggested address options.
                            </p>
                        </div>

                        <div class="module-list">
                            <div class="module-item" data-module="loqate">
                                <div class="module-icon">L</div>
                                <div class="module-content">
                                    <div class="module-header">
                                        <div>
                                            <div class="module-name">Loqate</div>
                                            <div class="module-description">A global address verification and
                                                geocoding service that ensures accurate customer data for smooth
                                                checkouts and deliveries.</div>
                                        </div>
                                        <div class="module-actions">
                                            <button class="btn btn-accent btn-sm module-btn" data-module="loqate"
                                                aria-label="Add Loqate">
                                                Add
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Email & SMS Modules -->
                    <div class="module-category">
                        <div class="category-header">
                            <h3 class="category-title">Email & SMS</h3>
                            <p class="category-description">
                                SMS and email Magento extensions offer automated notifications, order updates, and
                                marketing campaigns to engage customers and improve communication.
                            </p>
                        </div>

                        <div class="module-list">
                            <div class="module-item" data-module="klaviyo">
                                <div class="module-icon">K</div>
                                <div class="module-content">
                                    <div class="module-header">
                                        <div>
                                            <div class="module-name">Klaviyo</div>
                                            <div class="module-description">A data-driven email
                                                marketing platform that enables ecommerce brands to create personalized,
                                                automated customer engagement campaigns.</div>
                                        </div>
                                        <div class="module-actions">
                                            <button class="btn btn-accent btn-sm module-btn" data-module="klaviyo"
                                                aria-label="Add Klaviyo">
                                                Add
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="module-item" data-module="dotdigital">
                                <div class="module-icon">D</div>
                                <div class="module-content">
                                    <div class="module-header">
                                        <div>
                                            <div class="module-name">DotDigital</div>
                                            <div class="module-description">A marketing automation
                                                platform specializing in personalized email campaigns, customer
                                                segmentation, and omnichannel engagement.</div>
                                        </div>
                                        <div class="module-actions">
                                            <button class="btn btn-accent btn-sm module-btn" data-module="dotdigital"
                                                aria-label="Add DotDigital">
                                                Add
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Tax & Shipping -->
                    <div class="module-category">
                        <div class="category-header">
                            <h3 class="category-title">Tax & Shipping</h3>
                            <p class="category-description">
                                Magento Tax & Shipping extensions automate tax calculations, manage shipping rates,
                                offer real-time shipping options, and ensure accurate pricing for a seamless checkout
                                experience.
                            </p>
                        </div>

                        <div class="module-list">
                            <div class="module-item" data-module="shipperhq">
                                <div class="module-icon">S</div>
                                <div class="module-content">
                                    <div class="module-header">
                                        <div>
                                            <div class="module-name">ShipperHQ</div>
                                            <div class="module-description">A shipping rate management
                                                platform that optimizes checkout with real-time shipping rates, delivery
                                                options, and custom shipping rules.</div>
                                        </div>
                                        <div class="module-actions">
                                            <button class="btn btn-accent btn-sm module-btn" data-module="shipperhq"
                                                aria-label="Add ShipperHQ">
                                                Add
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Reviews & UGC -->
                    <div class="module-category">
                        <div class="category-header">
                            <h3 class="category-title">Reviews & UGC</h3>
                            <p class="category-description">
                                Magento Reviews & UGC extensions enable customers to leave product reviews, ratings, and
                                user-generated
                                content, boosting trust, engagement, and conversion rates.
                            </p>
                        </div>

                        <div class="module-list">
                            <div class="module-item" data-module="yotpo">
                                <div class="module-icon">Y</div>
                                <div class="module-content">
                                    <div class="module-header">
                                        <div>
                                            <div class="module-name">Yotpo Reviews</div>
                                            <div class="module-description">A customer review platform that helps brands
                                                collect,
                                                display, and leverage authentic reviews to build trust and drive
                                                conversions.</div>
                                        </div>
                                        <div class="module-actions">
                                            <button class="btn btn-accent btn-sm module-btn" data-module="yotpo"
                                                aria-label="Add Yotpo Reviews">
                                                Add
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="module-item" data-module="reviewsio">
                                <div class="module-icon">R</div>
                                <div class="module-content">
                                    <div class="module-header">
                                        <div>
                                            <div class="module-name">Reviews.io</div>
                                            <div class="module-description">A review collection and management platform
                                                that enables
                                                businesses to gather customer feedback and showcase authentic ratings.
                                            </div>
                                        </div>
                                        <div class="module-actions">
                                            <button class="btn btn-accent btn-sm module-btn" data-module="reviewsio"
                                                aria-label="Add Reviews.io">
                                                Add
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Search, Merchandising & Recommendations -->
                    <div class="module-category">
                        <div class="category-header">
                            <h3 class="category-title">Search, Merchandising & Recommendations</h3>
                            <p class="category-description">
                                Magento search, merchandising & recommendations extensions improve product discovery
                                with advanced
                                search, personalised recommendations, and targeted product displays for a better user
                                experience.
                            </p>
                        </div>

                        <div class="module-list">
                            <div class="module-item" data-module="klevu">
                                <div class="module-icon">K</div>
                                <div class="module-content">
                                    <div class="module-header">
                                        <div>
                                            <div class="module-name">Klevu</div>
                                            <div class="module-description">An AI-powered site search and product
                                                discovery solution
                                                that enhances ecommerce experiences with smart search, merchandising,
                                                and
                                                recommendations.</div>
                                        </div>
                                        <div class="module-actions">
                                            <button class="btn btn-accent btn-sm module-btn" data-module="klevu"
                                                aria-label="Add Klevu">
                                                Add
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="module-item" data-module="nosto">
                                <div class="module-icon">N</div>
                                <div class="module-content">
                                    <div class="module-header">
                                        <div>
                                            <div class="module-name">Nosto</div>
                                            <div class="module-description">A personalisation platform that delivers
                                                AI-driven product
                                                recommendations, dynamic content, and tailored shopping experiences to
                                                boost
                                                conversions.</div>
                                        </div>
                                        <div class="module-actions">
                                            <button class="btn btn-accent btn-sm module-btn" data-module="nosto"
                                                aria-label="Add Nosto">
                                                Add
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Example of module with license key requirement -->
                    <div class="module-category">
                        <div class="category-header">
                            <h3 class="category-title">Premium Extensions</h3>
                            <p class="category-description">
                                Premium extensions that require license keys for full functionality.
                            </p>
                        </div>

                        <div class="module-list">
                            <div class="module-item" data-module="hyva-checkout">
                                <div class="module-icon">H</div>
                                <div class="module-content">
                                    <div class="module-header">
                                        <div>
                                            <div class="module-name">HyvÃ¤ Checkout <span
                                                    class="module-badge license">License Key
                                                    Needed</span></div>
                                            <div class="module-description">Modern, lightweight checkout solution
                                                designed for
                                                performance and user experience optimization.</div>
                                        </div>
                                        <div class="module-actions">
                                            <button class="btn btn-accent btn-sm module-btn" data-module="hyva-checkout"
                                                aria-label="Add HyvÃ¤ Checkout">
                                                Add
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>




                <!-- Sample Data Section -->
                <div class="card hidden" id="sample-data-section">
                    <div class="card-header">
                        <h2 class="card-title">Sample Data</h2>
                    </div>

                    <p style="margin-bottom: 2rem; color: var(--gray); font-size: 1.1rem;">Do you want to populate the
                        Database with sample data?</p>

                    <div style="margin-bottom: 1.5rem;">
                        <label
                            style="display: flex; align-items: center; cursor: pointer; padding: 1.5rem; border-radius: 12px; background: rgba(255, 255, 255, 0.9); border: 2px solid var(--primary-light); margin-bottom: 1.5rem; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);"
                            class="sample-data-option">
                            <input type="radio" name="sample-data" value="yes" id="use-sample-data"
                                style="margin-right: 1.5rem; transform: scale(1.2);" checked />
                            <div>
                                <div
                                    style="font-weight: 600; margin-bottom: 0.75rem; font-size: 1.1rem; color: var(--primary);">
                                    Yes, I
                                    will be using sample data</div>
                                <div style="font-size: 0.95rem; color: var(--gray);">Populate your store with demo
                                    products and content</div>
                            </div>
                        </label>
                    </div>

                    <div style="margin-bottom: 1.5rem;">
                        <label
                            style="display: flex; align-items: center; cursor: pointer; padding: 1.5rem; border-radius: 12px; background: rgba(255, 255, 255, 0.9); border: 2px solid var(--border); transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);"
                            class="sample-data-option">
                            <input type="radio" name="sample-data" value="no" id="no-sample-data"
                                style="margin-right: 1.5rem; transform: scale(1.2);" />
                            <div>
                                <div style="font-weight: 600; margin-bottom: 0.75rem; font-size: 1.1rem;">No, I want to
                                    populate my own
                                    data</div>
                                <div style="font-size: 0.95rem; color: var(--gray);">Start with a clean store and add
                                    your own content</div>
                            </div>
                        </label>
                    </div>
                </div>

                <!-- Summary Section -->
                <div class="card hidden" id="summary-section">
                    <div class="card-header">
                        <h2 class="card-title">Summary</h2>
                    </div>

                    <p style="margin-bottom: 2rem; color: var(--gray); font-size: 1.1rem;">Please review your
                        configuration before
                        proceeding</p>

                    <div class="summary-section">
                        <h3 class="summary-title">Store Information</h3>
                        <div class="summary-list">
                            <div class="summary-item">
                                <div class="summary-label">Store Name:</div>
                                <div class="summary-value" id="summary-store-name">Sample Store</div>
                            </div>
                        </div>
                    </div>

                    <div class="summary-section">
                        <h3 class="summary-title">System Options</h3>
                        <div class="summary-list">
                            <div class="summary-item">
                                <div class="summary-label">Platform:</div>
                                <div class="summary-value" id="summary-platform">Not selected</div>
                            </div>
                            <div class="summary-item">
                                <div class="summary-label">Version:</div>
                                <div class="summary-value" id="summary-version">Not selected</div>
                            </div>
                            <div class="summary-item">
                                <div class="summary-label">Dependencies:</div>
                                <div class="summary-value" id="summary-dependencies">No dependencies</div>
                            </div>
                        </div>
                    </div>

                    <div class="summary-section">
                        <h3 class="summary-title">Styles</h3>
                        <div class="summary-list">
                            <div class="summary-item">
                                <div class="summary-label">Selected Theme:</div>
                                <div class="summary-value" id="summary-theme">Luma</div>
                            </div>
                            <div class="summary-item">
                                <div class="summary-label">Logos:</div>
                                <div class="summary-value" id="summary-logos">
                                    Desktop Logo: No desktop logo uploaded<br>
                                    Mobile Logo: No mobile logo uploaded
                                </div>
                            </div>
                            <div class="summary-item">
                                <div class="summary-label">Brand Colors:</div>
                                <div class="summary-value" id="summary-colors">
                                    <span class="color-preview" style="background-color: #1976d2;"></span> Primary:
                                    #1976d2<br>
                                    <span class="color-preview" style="background-color: #7986cb;"></span> Secondary:
                                    #7986cb<br>
                                    <span class="color-preview" style="background-color: #2ccb8d;"></span> Tertiary:
                                    #2ccb8d
                                </div>
                            </div>
                            <div class="summary-item">
                                <div class="summary-label">Fonts:</div>
                                <div class="summary-value" id="summary-fonts">Using Default Theme Font</div>
                            </div>
                        </div>
                    </div>

                    <div class="summary-section">
                        <h3 class="summary-title">Plugins</h3>
                        <div class="summary-list">
                            <div class="summary-item modules-item">
                                <div class="summary-label">Selected Modules:</div>
                                <div class="summary-value" id="summary-modules">
                                    <div class="modules-summary">
                                        <span class="module-tag">PPCP</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="summary-section">
                        <h3 class="summary-title">Sample Data</h3>
                        <div class="summary-list">
                            <div class="summary-item">
                                <div class="summary-label">Use Sample Data:</div>
                                <div class="summary-value" id="summary-sample-data">Yes</div>
                            </div>
                        </div>
                    </div>

                    <div class="build-deploy-section">
                        <h3 style="margin-bottom: 1rem; color: var(--gray-dark);">Ready to Launch?</h3>
                        <p style="margin-bottom: 2rem; color: var(--gray);">Your Magento store configuration is complete
                            and ready for
                            deployment.</p>
                        <button class="btn btn-primary ready-to-proceed" id="build-deploy-btn"
                            style="font-size: 1.1rem; padding: 1.25rem 2.5rem;">
                            Build and Deploy Site
                        </button>
                    </div>
                </div>


                <!-- Profile Section -->
                <div class="card hidden" id="profile-section">
                    <div class="card-header">
                        <h2 class="card-title">My Profile</h2>
                    </div>

                    <div class="profile-section">
                        <div class="profile-header">
                            <div class="profile-avatar">
                                <span id="profile-avatar-letter">D</span>
                            </div>
                            <div class="profile-info">
                                <h2 id="profile-display-name">Demo User</h2>
                                <p id="profile-display-email">demo@corefinity.com</p>
                            </div>
                        </div>

                        <form id="profile-form">
                            <div class="form-group">
                                <label for="profile-name" class="form-label">Display Name</label>
                                <input type="text" class="form-control" id="profile-name" value="Demo User" required>
                            </div>
                            <div class="form-group">
                                <label for="profile-email" class="form-label">Email Address</label>
                                <input type="email" class="form-control" id="profile-email" value="demo@corefinity.com"
                                    required>
                            </div>
                            <button type="submit" class="btn btn-primary">Update Profile</button>
                        </form>
                    </div>
                </div>

                <!-- My Sites Section -->
                <div class="card hidden" id="sites-section">
                    <div class="card-header">
                        <h2 class="card-title">My Builds</h2>
                        <button class="btn btn-primary" onclick="showMainWizard()">Create New Site</button>
                    </div>

                    <!-- Sites Table -->
                    <div class="builds-table-container">
                        <table class="builds-table">
                            <thead>
                                <tr>
                                    <th>Site Name</th>
                                    <th>URL</th>
                                    <th>Magento Version</th>
                                    <th>Created By</th>
                                    <th>Created Date</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="site-name-cell">
                                        <div class="site-info">
                                            <div class="site-avatar">A</div>
                                            <div class="site-details">
                                                <div class="site-name">Alpha Store</div>
                                                <div class="site-description">High-end electronics</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td>
                                        <a href="#" class="site-url">alpha.corefinity.com</a>
                                    </td>
                                    <td>
                                        <span class="version-tag">2.4.6</span>
                                    </td>
                                    <td class="created-by">Jane Doe</td>
                                    <td class="created-date">2024-06-15</td>
                                    <td class="actions-cell">
                                        <div class="action-buttons">
                                            <button class="btn btn-sm btn-outline-secondary">Manage</button>
                                            <button class="btn btn-sm btn-outline-primary">View</button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="site-name-cell">
                                        <div class="site-info">
                                            <div class="site-avatar">B</div>
                                            <div class="site-details">
                                                <div class="site-name">Beta Market</div>
                                                <div class="site-description">Fashion & accessories</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td>
                                        <a href="#" class="site-url">beta.corefinity.com</a>
                                    </td>
                                    <td>
                                        <span class="version-tag">2.4.5</span>
                                    </td>
                                    <td class="created-by">John Smith</td>
                                    <td class="created-date">2024-05-28</td>
                                    <td class="actions-cell">
                                        <div class="action-buttons">
                                            <button class="btn btn-sm btn-outline-secondary">Manage</button>
                                            <button class="btn btn-sm btn-outline-primary">View</button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="site-name-cell">
                                        <div class="site-info">
                                            <div class="site-avatar">G</div>
                                            <div class="site-details">
                                                <div class="site-name">Gamma Shop</div>
                                                <div class="site-description">Home & garden</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td>
                                        <a href="#" class="site-url">gamma.corefinity.com</a>
                                    </td>
                                    <td>
                                        <span class="version-tag">2.4.4</span>
                                    </td>
                                    <td class="created-by">Alex Lee</td>
                                    <td class="created-date">2024-01-10</td>
                                    <td class="actions-cell">
                                        <div class="action-buttons">
                                            <button class="btn btn-sm btn-outline-secondary">Manage</button>
                                            <button class="btn btn-sm btn-outline-primary">View</button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>


                </div>


            </div>
        </div>
    </div>

    <!-- Enhanced Preview Modal -->
    <div class="modal" id="preview-modal" role="dialog" aria-labelledby="preview-modal-title" aria-hidden="true">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="preview-modal-title">Theme Preview</h3>
                <button class="modal-close" id="close-modal" aria-label="Close modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="modal-tabs" role="tablist">
                    <button class="modal-tab active" id="desktop-tab-btn" data-tab="desktop" role="tab"
                        aria-selected="true" aria-controls="desktop-preview">
                        Desktop View
                    </button>
                    <button class="modal-tab" id="mobile-tab-btn" data-tab="mobile" role="tab" aria-selected="false"
                        aria-controls="mobile-preview">
                        Mobile View
                    </button>
                </div>

                <div class="modal-tab-content active" id="desktop-preview">
                    <div class="preview-desktop">
                        <div class="modal-address-bar"></div>
                        <img id="desktop-preview-img" src="luma_desktop.png" alt="Desktop store preview" />
                    </div>
                </div>

                <div class="modal-tab-content" id="mobile-preview">
                    <div class="preview-mobile-frame">
                        <img id="mobile-preview-img" src="luma mobile.png" alt="Mobile store preview" />
                    </div>
                </div>
            </div>
        </div>
    </div>




    <script>
        // Complete JavaScript implementation with responsive features
            const platformData = {
                magento: {
                    versions: {
                        '2.4.7': { php: '8.3', mariadb: '10.6', redis: '7.2', opensearch: '2.11' },
                        '2.4.6': { php: '8.2', mariadb: '10.5', redis: '7.0', opensearch: '2.9' },
                        '2.4.5': { php: '8.1', mariadb: '10.4', redis: '6.2', opensearch: '2.6' },
                        '2.4.4': { php: '8.0', mariadb: '10.4', redis: '6.0', opensearch: '2.4' },
                        '2.3.7': { php: '7.4', mariadb: '10.3', redis: '5.0', opensearch: 'N/A' }
                    }
                },
                laravel: {
                    versions: {
                        '11': { php: '8.2', mariadb: '10.6', redis: '7.2', opensearch: 'N/A' },
                        '10': { php: '8.1', mariadb: '10.4', redis: '6.2', opensearch: 'N/A' },
                        '9': { php: '8.0', mariadb: '10.3', redis: '6.0', opensearch: 'N/A' },
                        '8': { php: '7.4', mariadb: '10.3', redis: '5.0', opensearch: 'N/A' },
                        '7': { php: '7.3', mariadb: '10.2', redis: '5.0', opensearch: 'N/A' }
                    }
                },
                wordpress: {
                    versions: {
                        '6.5': { php: '8.1', mariadb: '10.4', redis: '7.0', opensearch: 'N/A' },
                        '6.4': { php: '8.0', mariadb: '10.3', redis: '6.0', opensearch: 'N/A' },
                        '6.3': { php: '7.4', mariadb: '10.2', redis: '5.0', opensearch: 'N/A' },
                        '6.2': { php: '7.3', mariadb: '10.1', redis: '5.0', opensearch: 'N/A' },
                        '5.9': { php: '7.2', mariadb: '10.0', redis: '4.0', opensearch: 'N/A' }
                    }
                }
            };

            const wizardState = {
                currentStep: 1,
                totalSteps: 6,
                currentPage: 'wizard', // wizard, profile, sites
                formData: {
                    storeName: '',
                    storeNameAvailable: false,
                    selectedPlatform: '',
                    selectedVersion: '',
                    dependencies: {},
                    selectedTheme: 'luma',
                    primaryColor: '#1976d2',
                    secondaryColor: '#7986cb',
                    tertiaryColor: '#2ccb8d',
                    desktopLogo: null,
                    mobileLogo: null,
                    useDefaultFont: true,
                    selectedFont: '',
                    selectedModules: ['ppcp'],
                    useSampleData: true
                },
                stepValidation: {
                    1: false,
                    2: false,
                    3: true,
                    4: true,
                    5: true,
                    6: false
                }
            };

            // Initialize
            document.addEventListener('DOMContentLoaded', function () {
                setupLoginForm();
                setupWizard();
                setupEnhancedFeatures();
                setupCustomSelects();
            });

            function setupLoginForm() {
                document.getElementById('login-form').addEventListener('submit', function (e) {
                    e.preventDefault();
                    const username = document.getElementById('username').value;
                    const password = document.getElementById('password').value;

                    if (username === 'demo' && password === 'demo') {
                        document.getElementById('login-page').style.display = 'none';
                        document.getElementById('wizard-container').classList.add('active');
                        showMainWizard();
                        updateUI();
                    } else {
                        showToast('Invalid credentials. Please use demo/demo', 'error');
                    }
                });
            }

            function setupWizard() {
                setupNavigation();
                setupStoreInfo();
                setupSystem();
                setupStyles();
                setupModules();
                setupSampleData();
                setupPreviewModal();
                setupSpecialPages();
                setupBuildDeploy();
                setupProfile();
                updateUI();
            }

            function setupNavigation() {
                document.querySelectorAll('.nav-link[data-step]').forEach(link => {
                    link.addEventListener('click', function (e) {
                        e.preventDefault();
                        const targetStep = parseInt(this.dataset.step);
                        if (targetStep <= getMaxAccessibleStep()) {
                            wizardState.currentStep = targetStep;
                            showMainWizard();
                            updateUI();
                        }
                    });
                });

                document.getElementById('next-btn').addEventListener('click', () => {
                    if (validateCurrentStep() && wizardState.currentStep < wizardState.totalSteps) {
                        wizardState.currentStep++;
                        showMainWizard();
                        updateUI();
                    }
                });

                document.getElementById('back-btn').addEventListener('click', () => {
                    if (wizardState.currentStep > 1) {
                        wizardState.currentStep--;
                        showMainWizard();
                        updateUI();
                    }
                });
            }

            function getMaxAccessibleStep() {
                let maxStep = 1;
                for (let i = 1; i <= wizardState.totalSteps; i++) {
                    if (wizardState.stepValidation[i]) {
                        maxStep = i + 1;
                    } else {
                        break;
                    }
                }
                return Math.min(maxStep, wizardState.totalSteps);
            }

            function validateCurrentStep() {
                switch (wizardState.currentStep) {
                    case 1:
                        const storeNameValid = wizardState.formData.storeName && wizardState.formData.storeNameAvailable;
                        return storeNameValid;
                    case 2:
                        const systemValid = wizardState.formData.selectedPlatform && wizardState.formData.selectedVersion;
                        return systemValid;
                    case 3:
                    case 4:
                    case 5:
                        return true;
                    case 6:
                        return true;
                    default:
                        return false;
                }
            }

            function setupCustomSelects() {
                document.querySelectorAll('.custom-select-container').forEach(container => {
                    const originalSelect = container.querySelector('select');

                    const customDropdown = document.createElement('div');
                    customDropdown.className = 'custom-select';
                    customDropdown.textContent = originalSelect.options[originalSelect.selectedIndex]?.textContent || 'Select an option';
                    customDropdown.setAttribute('tabindex', '0');
                    customDropdown.setAttribute('role', 'combobox');
                    customDropdown.setAttribute('aria-expanded', 'false');

                    const optionsContainer = document.createElement('div');
                    optionsContainer.className = 'select-options';

                    Array.from(originalSelect.options).forEach(option => {
                        const optionElement = document.createElement('div');
                        optionElement.className = 'select-option';
                        if (option.selected) optionElement.classList.add('selected');
                        optionElement.setAttribute('data-value', option.value);
                        optionElement.textContent = option.textContent;

                        optionElement.addEventListener('click', () => {
                            originalSelect.value = option.value;
                            originalSelect.dispatchEvent(new Event('change', { bubbles: true }));

                            customDropdown.textContent = option.textContent;

                            optionsContainer.querySelectorAll('.select-option').forEach(el => {
                                el.classList.remove('selected');
                            });
                            optionElement.classList.add('selected');

                            optionsContainer.classList.remove('show');
                            customDropdown.classList.remove('active');
                            customDropdown.setAttribute('aria-expanded', 'false');
                        });

                        optionsContainer.appendChild(optionElement);
                    });

                    originalSelect.style.display = 'none';
                    originalSelect.setAttribute('aria-hidden', 'true');

                    container.appendChild(customDropdown);
                    container.appendChild(optionsContainer);

                    customDropdown.addEventListener('click', () => {
                        optionsContainer.classList.toggle('show');
                        customDropdown.classList.toggle('active');
                        customDropdown.setAttribute('aria-expanded',
                            customDropdown.classList.contains('active') ? 'true' : 'false');
                    });

                    customDropdown.addEventListener('keydown', (e) => {
                        if (e.key === 'Enter' || e.key === ' ') {
                            e.preventDefault();
                            customDropdown.click();
                        }
                    });
                });

                document.addEventListener('click', (e) => {
                    if (!e.target.closest('.custom-select-container')) {
                        document.querySelectorAll('.select-options').forEach(dropdown => {
                            dropdown.classList.remove('show');
                        });
                        document.querySelectorAll('.custom-select').forEach(select => {
                            select.classList.remove('active');
                            select.setAttribute('aria-expanded', 'false');
                        });
                    }
                });
            }

            function setupStoreInfo() {
                const storeNameSelect = document.getElementById('store-name');
                const newStoreNameGroup = document.getElementById('new-store-name-group');
                const newStoreNameInput = document.getElementById('new-store-name');
                const storeNameAvailability = document.getElementById('store-name-availability');

                storeNameSelect.addEventListener('change', function () {
                    if (this.value === 'new-store') {
                        newStoreNameGroup.classList.remove('hidden');
                        wizardState.formData.storeName = '';
                        wizardState.formData.storeNameAvailable = false;
                    } else if (this.value) {
                        newStoreNameGroup.classList.add('hidden');
                        wizardState.formData.storeName = this.value;
                        wizardState.formData.storeNameAvailable = true;
                    } else {
                        newStoreNameGroup.classList.add('hidden');
                        wizardState.formData.storeName = '';
                        wizardState.formData.storeNameAvailable = false;
                    }
                    updateStepValidation();
                });

                newStoreNameInput.addEventListener('input', function () {
                    const storeName = this.value.trim();
                    if (storeName.length > 0) {
                        storeNameAvailability.innerHTML = '<span class="loading"></span> Checking availability...';
                        storeNameAvailability.className = 'form-text loading';

                        setTimeout(() => {
                            const isAvailable = !['Sample Store', 'Test Store', 'Demo Store', 'Example Store', 'My Store'].includes(storeName);
                            if (isAvailable) {
                                storeNameAvailability.innerHTML = 'âœ… <strong>"' + storeName + '"</strong> is available! Great choice.';
                                storeNameAvailability.className = 'form-text success';
                                wizardState.formData.storeNameAvailable = true;
                                this.classList.add('valid');
                                this.classList.remove('invalid');
                            } else {
                                storeNameAvailability.innerHTML = 'âŒ <strong>"' + storeName + '"</strong> is already taken. Try a different name.';
                                storeNameAvailability.className = 'form-text error';
                                wizardState.formData.storeNameAvailable = false;
                                this.classList.add('invalid');
                                this.classList.remove('valid');
                            }
                            wizardState.formData.storeName = storeName;
                            updateStepValidation();
                        }, 1200);
                    } else {
                        storeNameAvailability.textContent = '';
                        storeNameAvailability.className = 'form-text';
                        wizardState.formData.storeNameAvailable = false;
                        wizardState.formData.storeName = '';
                        this.classList.remove('valid', 'invalid');
                        updateStepValidation();
                    }
                });
            }

            function setupSystem() {
                document.querySelectorAll('.platform-option').forEach(option => {
                    option.addEventListener('click', function () {
                        const platform = this.dataset.platform;

                        this.style.transform = 'scale(0.95)';
                        setTimeout(() => {
                            this.style.transform = '';
                        }, 150);

                        document.querySelectorAll('.platform-option').forEach(opt => {
                            opt.classList.remove('selected');
                            opt.setAttribute('aria-checked', 'false');
                        });
                        this.classList.add('selected');
                        this.setAttribute('aria-checked', 'true');

                        wizardState.formData.selectedPlatform = platform;
                        wizardState.formData.selectedVersion = '';
                        wizardState.formData.dependencies = {};

                        updateVersionSelect(platform);
                        document.getElementById('version-select-group').classList.remove('hidden');
                        document.getElementById('dependencies-container').classList.add('hidden');

                        showPlatformMessage(platform);
                        updateStepValidation();
                    });

                    option.addEventListener('keydown', function (e) {
                        if (e.key === 'Enter' || e.key === ' ') {
                            e.preventDefault();
                            this.click();
                        }
                    });
                });

                document.getElementById('version-select').addEventListener('change', function () {
                    const platform = wizardState.formData.selectedPlatform;
                    const version = this.value;

                    if (version && platformData[platform] && platformData[platform].versions[version]) {
                        wizardState.formData.selectedVersion = version;
                        wizardState.formData.dependencies = platformData[platform].versions[version];
                        updateDependenciesDisplay();
                        document.getElementById('dependencies-container').classList.remove('hidden');

                        showVersionMessage(platform, version);
                    } else {
                        wizardState.formData.selectedVersion = '';
                        wizardState.formData.dependencies = {};
                        document.getElementById('dependencies-container').classList.add('hidden');
                    }
                    updateStepValidation();
                });
            }

            function showPlatformMessage(platform) {
                const messages = {
                    magento: 'ðŸŽ‰ Excellent choice! Magento is perfect for enterprise e-commerce solutions.',
                    laravel: 'âš¡ Great selection! Laravel offers rapid development and modern architecture.',
                    wordpress: 'ðŸš€ Smart pick! WordPress provides flexibility and ease of use.'
                };

                if (messages[platform]) {
                    showToast(messages[platform], 'success');
                }
            }

            function showVersionMessage(platform, version) {
                const isLatest = (platform === 'magento' && version === '2.4.7') ||
                    (platform === 'laravel' && version === '11') ||
                    (platform === 'wordpress' && version === '6.5');

                if (isLatest) {
                    showToast(`âœ¨ You've selected the latest ${platform} version - excellent for security and features!`, 'success');
                }
            }

            function showToast(message, type = 'info') {
                const existingToasts = document.querySelectorAll('.toast');
                existingToasts.forEach(toast => toast.remove());

                const toast = document.createElement('div');
                toast.className = `toast toast-${type}`;
                toast.setAttribute('role', 'alert');
                toast.setAttribute('aria-live', 'assertive');
                toast.innerHTML = `
            <div class="toast-content">
                <div class="toast-message">${message}</div>
                <button class="toast-close" onclick="this.parentElement.parentElement.remove()" aria-label="Close notification">Ã—</button>
            </div>
        `;

                document.body.appendChild(toast);

                setTimeout(() => {
                    if (toast.parentElement) {
                        toast.remove();
                    }
                }, 4000);
            }

            function updateVersionSelect(platform) {
                const container = document.getElementById('version-select-group');
                const versionSelectContainer = container.querySelector('.custom-select-container');

                while (versionSelectContainer.firstChild) {
                    versionSelectContainer.removeChild(versionSelectContainer.firstChild);
                }

                const versionSelect = document.createElement('select');
                versionSelect.className = 'form-control custom-select';
                versionSelect.id = 'version-select';
                versionSelect.required = true;

                const defaultOption = document.createElement('option');
                defaultOption.value = '';
                defaultOption.textContent = 'Select a version';
                versionSelect.appendChild(defaultOption);

                if (platform && platformData[platform]) {
                    Object.keys(platformData[platform].versions).forEach(version => {
                        const option = document.createElement('option');
                        option.value = version;
                        option.textContent = version;
                        versionSelect.appendChild(option);
                    });
                }

                versionSelectContainer.appendChild(versionSelect);

                const customDropdown = document.createElement('div');
                customDropdown.className = 'custom-select';
                customDropdown.textContent = 'Select a version';
                customDropdown.setAttribute('tabindex', '0');
                customDropdown.setAttribute('role', 'combobox');
                customDropdown.setAttribute('aria-expanded', 'false');
                versionSelectContainer.appendChild(customDropdown);

                const optionsContainer = document.createElement('div');
                optionsContainer.className = 'select-options';
                optionsContainer.style.zIndex = '9999';
                versionSelectContainer.appendChild(optionsContainer);

                Array.from(versionSelect.options).forEach(option => {
                    const optionElement = document.createElement('div');
                    optionElement.className = 'select-option';
                    if (option.selected) optionElement.classList.add('selected');
                    optionElement.setAttribute('data-value', option.value);
                    optionElement.textContent = option.textContent;

                    optionElement.addEventListener('click', () => {
                        versionSelect.value = option.value;
                        versionSelect.dispatchEvent(new Event('change', { bubbles: true }));

                        customDropdown.textContent = option.textContent;

                        optionsContainer.querySelectorAll('.select-option').forEach(el => {
                            el.classList.remove('selected');
                        });
                        optionElement.classList.add('selected');

                        optionsContainer.classList.remove('show');
                        customDropdown.classList.remove('active');
                        customDropdown.setAttribute('aria-expanded', 'false');
                    });

                    optionsContainer.appendChild(optionElement);
                });

                versionSelect.style.display = 'none';
                versionSelect.setAttribute('aria-hidden', 'true');

                customDropdown.addEventListener('click', () => {
                    optionsContainer.classList.toggle('show');
                    customDropdown.classList.toggle('active');
                    customDropdown.setAttribute('aria-expanded',
                        customDropdown.classList.contains('active') ? 'true' : 'false');
                });

                customDropdown.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        customDropdown.click();
                    }
                });

                versionSelect.addEventListener('change', function () {
                    const platform = wizardState.formData.selectedPlatform;
                    const version = this.value;

                    if (version && platformData[platform] && platformData[platform].versions[version]) {
                        wizardState.formData.selectedVersion = version;
                        wizardState.formData.dependencies = platformData[platform].versions[version];
                        updateDependenciesDisplay();
                        document.getElementById('dependencies-container').classList.remove('hidden');

                        showVersionMessage(platform, version);
                    } else {
                        wizardState.formData.selectedVersion = '';
                        wizardState.formData.dependencies = {};
                        document.getElementById('dependencies-container').classList.add('hidden');
                    }
                    updateStepValidation();
                });

                document.getElementById('version-select-group').classList.remove('hidden');
            }

            function updateDependenciesDisplay() {
                const dependencies = wizardState.formData.dependencies;

                const phpVersionEl = document.getElementById('php-version');
                if (phpVersionEl) {
                    phpVersionEl.textContent = dependencies.php || 'N/A';
                    phpVersionEl.setAttribute('title', `PHP Version ${dependencies.php || 'N/A'}`);
                }

                const mariadbVersionEl = document.getElementById('mariadb-version');
                if (mariadbVersionEl) {
                    mariadbVersionEl.textContent = dependencies.mariadb || 'N/A';
                    mariadbVersionEl.setAttribute('title', `MariaDB Version ${dependencies.mariadb || 'N/A'}`);
                }

                const redisVersionEl = document.getElementById('redis-version');
                if (redisVersionEl) {
                    redisVersionEl.textContent = dependencies.redis || 'N/A';
                    redisVersionEl.setAttribute('title', `Redis Version ${dependencies.redis || 'N/A'}`);
                }

                const opensearchVersionEl = document.getElementById('opensearch-version');
                if (opensearchVersionEl) {
                    const opensearchVersion = dependencies.opensearch || 'N/A';
                    opensearchVersionEl.textContent = opensearchVersion;
                    opensearchVersionEl.setAttribute('title', `OpenSearch Version ${opensearchVersion}`);

                    if (opensearchVersion === 'N/A') {
                        opensearchVersionEl.style.opacity = '0.5';
                        opensearchVersionEl.textContent = 'Not Required';
                    } else {
                        opensearchVersionEl.style.opacity = '1';
                    }
                }

                document.querySelectorAll('.dependency-item').forEach(item => {
                    item.style.animation = 'dependencyUpdate 0.5s ease-out';
                });
            }

            function setupStyles() {
                // Tab navigation
                document.querySelectorAll('.tab-item').forEach(tab => {
                    tab.addEventListener('click', function () {
                        const tabId = this.dataset.tab;

                        document.querySelectorAll('.tab-item').forEach(item => {
                            item.classList.remove('active');
                            item.setAttribute('aria-selected', 'false');
                        });

                        this.classList.add('active');
                        this.setAttribute('aria-selected', 'true');

                        document.querySelectorAll('.tab-content').forEach(content => {
                            content.classList.remove('active');
                            if (content.id === `${tabId}-tab`) {
                                content.classList.add('active');
                            }
                        });
                    });
                });

                // Theme selection - updated for new design
                document.querySelectorAll('.theme-option').forEach(option => {
                    option.addEventListener('click', function () {
                        const theme = this.dataset.theme;
                        const radioInput = this.querySelector('input[type="radio"]');

                        document.querySelectorAll('.theme-option').forEach(opt => {
                            opt.classList.remove('selected');
                            opt.setAttribute('aria-checked', 'false');
                            opt.querySelector('input[type="radio"]').checked = false;
                        });

                        this.classList.add('selected');
                        this.setAttribute('aria-checked', 'true');
                        radioInput.checked = true;

                        wizardState.formData.selectedTheme = theme;
                        updateThemePreview(theme);
                        updateSummary();
                    });

                    option.addEventListener('keydown', function (e) {
                        if (e.key === 'Enter' || e.key === ' ') {
                            e.preventDefault();
                            this.click();
                        }
                    });
                });

                // Setup color pickers, logo uploads, and font selector
                setupColorPickers();
                setupLogoUploads();
                setupFontSelector();
            }

            function updateThemePreview(theme) {
                // Update image sources based on theme selection
                if (theme === 'luma') {
                    document.getElementById('desktop-theme-preview').src = 'luma_desktop.png';
                    document.getElementById('mobile-theme-preview').src = 'luma mobile.png';
                    document.getElementById('desktop-preview-img').src = 'luma_desktop.png';
                    document.getElementById('mobile-preview-img').src = 'luma mobile.png';
                } else if (theme === 'hyva') {
                    document.getElementById('desktop-theme-preview').src = 'hyva desktop.png';
                    document.getElementById('mobile-theme-preview').src = 'hyva mobile.png';
                    document.getElementById('desktop-preview-img').src = 'hyva desktop.png';
                    document.getElementById('mobile-preview-img').src = 'hyva mobile.png';
                }
            }

            function setupColorPickers() {
                // Make circles clickable
                document.querySelectorAll('.color-picker-circle').forEach(circle => {
                    circle.addEventListener('click', function () {
                        const input = this.querySelector('.color-picker-input');
                        if (input) {
                            input.click();
                        }
                    });
                });

                // Handle color changes with real-time preview
                document.querySelectorAll('.color-picker-input').forEach(input => {
                    input.addEventListener('input', function () {
                        const colorValue = this.value;
                        const colorCircle = this.parentElement;

                        // Update the circle background
                        colorCircle.style.backgroundColor = colorValue;

                        // Update preview samples and wizard state
                        const colorId = this.id;
                        if (colorId === 'primary-color') {
                            wizardState.formData.primaryColor = colorValue;
                            document.getElementById('primary-sample').style.backgroundColor = colorValue;
                            updatePrimaryColorPreview(colorValue);
                        } else if (colorId === 'secondary-color') {
                            wizardState.formData.secondaryColor = colorValue;
                            document.getElementById('secondary-sample').style.backgroundColor = colorValue;
                            updateSecondaryColorPreview(colorValue);
                        } else if (colorId === 'tertiary-color') {
                            wizardState.formData.tertiaryColor = colorValue;
                            document.getElementById('tertiary-sample').style.backgroundColor = colorValue;
                            updateTertiaryColorPreview(colorValue);
                        }

                        updateSummary();
                        showColorChangeToast(colorId, colorValue);
                    });
                });
            }

           function updatePrimaryColorPreview(color) {
                // Update the color picker circle itself
                const primaryCircle = document.querySelector('#primary-color').parentElement;
                if (primaryCircle) {
                    primaryCircle.style.backgroundColor = color;
                }

                // Update the small preview circle below
                const primarySample = document.getElementById('primary-sample');
                if (primarySample) {
                    primarySample.style.backgroundColor = color;
                }


            }

            function updateSecondaryColorPreview(color) {
                document.documentElement.style.setProperty('--secondary', color);
            }

            function updateTertiaryColorPreview(color) {
                document.documentElement.style.setProperty('--tertiary', color);
            }

            function showColorChangeToast(colorType, colorValue) {
                const colorName = colorType.replace('-color', '').replace('-', ' ');
                showToast(`${colorName.charAt(0).toUpperCase() + colorName.slice(1)} color updated to ${colorValue}`, 'success');
            }

            function setupLogoUploads() {
                // Desktop logo upload
                document.getElementById('desktop-logo-input').addEventListener('change', function () {
                    handleLogoUpload(this, 'desktop');
                });

                // Mobile logo upload
                document.getElementById('mobile-logo-input').addEventListener('change', function () {
                    handleLogoUpload(this, 'mobile');
                });

                // Make preview boxes clickable
                document.getElementById('desktop-preview-box').addEventListener('click', function () {
                    document.getElementById('desktop-logo-input').click();
                });

                document.getElementById('mobile-preview-box').addEventListener('click', function () {
                    document.getElementById('mobile-logo-input').click();
                });
            }

            function handleLogoUpload(input, type) {
                const filenameElement = document.getElementById(`${type}-filename`);
                const previewElement = document.getElementById(`${type}-logo-preview`);
                const placeholderElement = document.getElementById(`${type}-placeholder`);
                const previewBoxElement = document.getElementById(`${type}-preview-box`);
                const uploadRowElement = input.closest('.logo-section').querySelector('.logo-upload-row');

                if (input.files && input.files[0]) {
                    const file = input.files[0];

                    // Validate file size (500KB limit)
                    if (file.size > 500 * 1024) {
                        showToast('File size exceeds 500KB limit. Please choose a smaller file.', 'error');
                        input.value = '';
                        return;
                    }

                    // Validate file type
                    const allowedTypes = ['image/jpeg', 'image/png', 'image/svg+xml'];
                    if (!allowedTypes.includes(file.type)) {
                        showToast('Only JPG, PNG, and SVG files are allowed.', 'error');
                        input.value = '';
                        return;
                    }

                    // Update filename display
                    filenameElement.textContent = file.name;
                    filenameElement.classList.add('has-file');
                    uploadRowElement.classList.add('has-file');
                    previewBoxElement.classList.add('has-image');

                    // Show preview
                    const reader = new FileReader();
                    reader.onload = function (e) {
                        previewElement.src = e.target.result;
                        previewElement.classList.remove('hidden');
                        placeholderElement.classList.add('hidden');

                        // Store in wizard state
                        if (type === 'desktop') {
                            wizardState.formData.desktopLogo = file;
                        } else {
                            wizardState.formData.mobileLogo = file;
                        }

                        updateSummary();
                        showToast(`${type.charAt(0).toUpperCase() + type.slice(1)} logo uploaded successfully!`, 'success');
                    };
                    reader.readAsDataURL(file);
                } else {
                    // Reset if no file selected
                    filenameElement.textContent = 'No file chosen';
                    filenameElement.classList.remove('has-file');
                    uploadRowElement.classList.remove('has-file');
                    previewBoxElement.classList.remove('has-image');
                    previewElement.classList.add('hidden');
                    placeholderElement.classList.remove('hidden');
                }
            }

            function setupFontSelector() {
                    const useDefaultFontCheckbox = document.getElementById('use-default-font');
                    const fontSearchWrapper = document.getElementById('font-search-wrapper');
                    const fontSearchInput = fontSearchWrapper.querySelector('input');

                    // Store popular Google Fonts (or fetch from API)
                    const popularGoogleFonts = [
                        'Open Sans', 'Roboto', 'Lato', 'Montserrat', 'Oswald', 'Source Sans Pro',
                        'Raleway', 'PT Sans', 'Roboto Condensed', 'Ubuntu', 'Nunito', 'Playfair Display',
                        'Merriweather', 'Poppins', 'Roboto Slab', 'Noto Sans', 'Fira Sans', 'Work Sans'
                    ];

                    useDefaultFontCheckbox.addEventListener('change', function () {
                        wizardState.formData.useDefaultFont = this.checked;

                        if (this.checked) {
                            fontSearchWrapper.classList.add('disabled');
                            fontSearchInput.disabled = true;
                            wizardState.formData.selectedFont = '';
                            updateFontPreview('Inter'); // Default font
                        } else {
                            fontSearchWrapper.classList.remove('disabled');
                            fontSearchInput.disabled = false;
                        }
                        updateSummary();
                    });

                    // Create font dropdown
                    const fontDropdown = document.createElement('div');
                    fontDropdown.className = 'font-dropdown hidden';
                    fontDropdown.style.cssText = `
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background: white;
        border: 1px solid var(--border);
        border-radius: 8px;
        max-height: 200px;
        overflow-y: auto;
        z-index: 1000;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    `;

                    fontSearchWrapper.style.position = 'relative';
                    fontSearchWrapper.appendChild(fontDropdown);

                    // Font search functionality
                    fontSearchInput.addEventListener('input', function () {
                        const query = this.value.toLowerCase().trim();

                        if (query.length > 0) {
                            const matchedFonts = popularGoogleFonts.filter(font =>
                                font.toLowerCase().includes(query)
                            );

                            showFontDropdown(matchedFonts, fontDropdown, fontSearchInput);
                        } else {
                            fontDropdown.classList.add('hidden');
                        }
                    });

                    // Hide dropdown when clicking outside
                    document.addEventListener('click', (e) => {
                        if (!fontSearchWrapper.contains(e.target)) {
                            fontDropdown.classList.add('hidden');
                        }
                    });
                }

                function showFontDropdown(fonts, dropdown, input) {
                    dropdown.innerHTML = '';

                    if (fonts.length === 0) {
                        dropdown.innerHTML = '<div style="padding: 1rem; color: var(--gray);">No fonts found</div>';
                    } else {
                        fonts.forEach(font => {
                            const fontOption = document.createElement('div');
                            fontOption.style.cssText = `
                padding: 0.75rem 1rem;
                cursor: pointer;
                border-bottom: 1px solid var(--border);
                font-family: '${font}', sans-serif;
                transition: background 0.2s ease;
            `;
                            fontOption.textContent = font;

                            // Load Google Font dynamically
                            loadGoogleFont(font);

                            fontOption.addEventListener('mouseenter', () => {
                                fontOption.style.background = 'var(--primary-light)';
                            });

                            fontOption.addEventListener('mouseleave', () => {
                                fontOption.style.background = 'transparent';
                            });

                            fontOption.addEventListener('click', () => {
                                input.value = font;
                                wizardState.formData.selectedFont = font;
                                updateFontPreview(font);
                                dropdown.classList.add('hidden');
                                updateSummary();
                                showToast(`Font changed to ${font}`, 'success');
                            });

                            dropdown.appendChild(fontOption);
                        });
                    }

                    dropdown.classList.remove('hidden');
                }

                function loadGoogleFont(fontName) {
                    // Check if font is already loaded
                    const existingLink = document.querySelector(`link[href*="${fontName.replace(' ', '+')}"]`);
                    if (existingLink) return;

                    // Create Google Fonts link
                    const link = document.createElement('link');
                    link.rel = 'stylesheet';
                    link.href = `https://fonts.googleapis.com/css2?family=${fontName.replace(' ', '+')}:wght@300;400;500;600;700&display=swap`;
                    document.head.appendChild(link);
                }

                function updateFontPreview(fontName) {
                    const previewBox = document.querySelector('.font-preview-box');
                    if (previewBox) {
                        previewBox.style.fontFamily = `'${fontName}', sans-serif`;

                        // Load the font if it's not default
                        if (fontName !== 'Inter') {
                            loadGoogleFont(fontName);
                        }
                    }
                }

            function setupModules() {
                document.querySelectorAll('.module-btn').forEach(button => {
                    button.addEventListener('click', function (e) {
                        e.stopPropagation(); // Prevent module item click
                        const moduleId = this.dataset.module;
                        const moduleItem = this.closest('.module-item');
                        const isAdding = this.textContent.trim() === 'Add';

                        if (isAdding) {
                            // Add module
                            if (!wizardState.formData.selectedModules.includes(moduleId)) {
                                wizardState.formData.selectedModules.push(moduleId);
                            }
                            this.innerHTML = 'Remove';
                            this.className = 'btn btn-danger btn-sm module-btn';
                            this.setAttribute('aria-label', `Remove ${moduleItem.querySelector('.module-name').textContent.split(' ')[0]}`);
                            moduleItem.classList.add('selected');

                            // Show success message
                            showToast(`${moduleItem.querySelector('.module-name').textContent.split(' ')[0]} added successfully!`, 'success');
                        } else {
                            // Remove module
                            const index = wizardState.formData.selectedModules.indexOf(moduleId);
                            if (index > -1) {
                                wizardState.formData.selectedModules.splice(index, 1);
                            }
                            this.innerHTML = 'Add';
                            this.className = 'btn btn-accent btn-sm module-btn';
                            this.setAttribute('aria-label', `Add ${moduleItem.querySelector('.module-name').textContent.split(' ')[0]}`);
                            moduleItem.classList.remove('selected');

                            // Show removal message
                            showToast(`${moduleItem.querySelector('.module-name').textContent.split(' ')[0]} removed.`, 'info');
                        }

                        updateSummary();
                    });
                });

                // Make module items clickable (but not the button area)
                document.querySelectorAll('.module-item').forEach(item => {
                    item.addEventListener('click', function (e) {
                        // Don't trigger if clicking on button or button area
                        if (e.target.closest('.module-actions')) {
                            return;
                        }

                        // Trigger the module button click
                        const button = this.querySelector('.module-btn');
                        if (button) {
                            button.click();
                        }
                    });
                });
            }

            function setupSampleData() {
                document.querySelectorAll('input[name="sample-data"]').forEach(radio => {
                    radio.addEventListener('change', function () {
                        wizardState.formData.useSampleData = this.value === 'yes';

                        document.querySelectorAll('.sample-data-option').forEach(option => {
                            if (option.contains(this)) {
                                option.style.borderColor = 'var(--primary)';
                                option.style.background = 'var(--primary-light)';
                            } else {
                                option.style.borderColor = 'var(--border)';
                                option.style.background = 'rgba(255, 255, 255, 0.9)';
                            }
                        });

                        updateSummary();
                    });
                });

                document.querySelectorAll('.sample-data-option').forEach(option => {
                    option.addEventListener('mouseenter', function () {
                        if (!this.querySelector('input').checked) {
                            this.style.borderColor = 'var(--primary-light)';
                            this.style.background = 'rgba(0, 87, 255, 0.05)';
                            this.style.transform = 'translateY(-2px)';
                        }
                    });

                    option.addEventListener('mouseleave', function () {
                        if (!this.querySelector('input').checked) {
                            this.style.borderColor = 'var(--border)';
                            this.style.background = 'rgba(255, 255, 255, 0.9)';
                            this.style.transform = 'translateY(0)';
                        }
                    });
                });
            }

            function setupPreviewModal() {
                const previewBtns = ['preview-theme-btn', 'preview-theme-btn-2', 'preview-logo-btn', 'preview-colors-btn', 'preview-font-btn'];
                previewBtns.forEach(btnId => {
                    const btn = document.getElementById(btnId);
                    if (btn) {
                        btn.addEventListener('click', () => {
                            document.getElementById('preview-modal').classList.add('active');
                            document.getElementById('preview-modal').setAttribute('aria-hidden', 'false');

                            setTimeout(() => {
                                document.getElementById('close-modal').focus();
                            }, 100);
                        });
                    }
                });

                document.getElementById('close-modal').addEventListener('click', () => {
                    closeModal();
                });

                document.querySelectorAll('.modal-tab').forEach(tab => {
                    tab.addEventListener('click', function () {
                        const tabId = this.dataset.tab;

                        document.querySelectorAll('.modal-tab').forEach(item => {
                            item.classList.remove('active');
                            item.setAttribute('aria-selected', 'false');
                        });

                        this.classList.add('active');
                        this.setAttribute('aria-selected', 'true');

                        document.querySelectorAll('.modal-tab-content').forEach(content => {
                            content.classList.remove('active');
                            if (content.id === `${tabId}-preview`) {
                                content.classList.add('active');
                            }
                        });
                    });
                });

                window.addEventListener('click', (e) => {
                    if (e.target === document.getElementById('preview-modal')) {
                        closeModal();
                    }
                });

                window.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape' && document.getElementById('preview-modal').classList.contains('active')) {
                        closeModal();
                    }
                });
            }

            function closeModal() {
                document.getElementById('preview-modal').classList.remove('active');
                document.getElementById('preview-modal').setAttribute('aria-hidden', 'true');
            }

            function setupSpecialPages() {
                document.getElementById('profile-btn').addEventListener('click', (e) => {
                    e.preventDefault();
                    showProfilePage();
                });

                document.getElementById('my-sites-btn').addEventListener('click', (e) => {
                    e.preventDefault();
                    showSitesPage();
                });

                document.getElementById('logout-btn').addEventListener('click', (e) => {
                    e.preventDefault();
                    if (confirm('Are you sure you want to logout?')) {
                        document.getElementById('wizard-container').classList.remove('active');
                        document.getElementById('login-page').style.display = 'flex';
                        document.getElementById('username').value = '';
                        document.getElementById('password').value = '';
                    }
                });
            }

            function setupProfile() {
                document.getElementById('profile-form').addEventListener('submit', function (e) {
                    e.preventDefault();
                    const name = document.getElementById('profile-name').value;
                    const email = document.getElementById('profile-email').value;

                    document.getElementById('profile-display-name').textContent = name;
                    document.getElementById('profile-display-email').textContent = email;
                    document.getElementById('profile-avatar-letter').textContent = name.charAt(0).toUpperCase();

                    showToast('Profile updated successfully!', 'success');
                });
            }

            function setupBuildDeploy() {
                document.getElementById('build-deploy-btn').addEventListener('click', function () {
                    // Capture all form data for submission
                    const formData = {
                        submissionId: 'sub_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9),
                        timestamp: new Date().toISOString(),
                        userId: 'demo_user_' + Date.now(),

                        storeInfo: {
                            storeName: wizardState.formData.storeName,
                            storeNameAvailable: wizardState.formData.storeNameAvailable,
                            storeType: 'magento'
                        },

                        systemConfig: {
                            platform: wizardState.formData.selectedPlatform,
                            version: wizardState.formData.selectedVersion,
                            dependencies: {
                                php: wizardState.formData.dependencies.php,
                                mariadb: wizardState.formData.dependencies.mariadb,
                                redis: wizardState.formData.dependencies.redis,
                                opensearch: wizardState.formData.dependencies.opensearch
                            }
                        },

                        themeConfig: {
                            selectedTheme: wizardState.formData.selectedTheme,
                            brandColors: {
                                primary: wizardState.formData.primaryColor,
                                secondary: wizardState.formData.secondaryColor,
                                tertiary: wizardState.formData.tertiaryColor
                            },
                            logos: {
                                desktop: wizardState.formData.desktopLogo ? {
                                    filename: wizardState.formData.desktopLogo.name,
                                    size: wizardState.formData.desktopLogo.size,
                                    type: wizardState.formData.desktopLogo.type
                                } : null,
                                mobile: wizardState.formData.mobileLogo ? {
                                    filename: wizardState.formData.mobileLogo.name,
                                    size: wizardState.formData.mobileLogo.size,
                                    type: wizardState.formData.mobileLogo.type
                                } : null
                            },
                            fonts: {
                                useDefault: wizardState.formData.useDefaultFont,
                                customFont: wizardState.formData.selectedFont
                            }
                        },

                        pluginConfig: {
                            selectedModules: wizardState.formData.selectedModules,
                            moduleCount: wizardState.formData.selectedModules.length,
                            paymentModules: wizardState.formData.selectedModules.filter(m => ['ppcp', 'fastlane', 'mollie'].includes(m)),
                            utilityModules: wizardState.formData.selectedModules.filter(m => ['loqate', 'klaviyo', 'dotdigital', 'shipperhq'].includes(m))
                        },

                        dataConfig: {
                            useSampleData: wizardState.formData.useSampleData,
                            dataType: wizardState.formData.useSampleData ? 'sample' : 'custom'
                        },

                        validationStatus: {
                            storeInfoValid: wizardState.stepValidation[1],
                            systemConfigValid: wizardState.stepValidation[2],
                            stylesConfigValid: wizardState.stepValidation[3],
                            pluginConfigValid: wizardState.stepValidation[4],
                            dataConfigValid: wizardState.stepValidation[5],
                            overallValid: Object.values(wizardState.stepValidation).every(valid => valid)
                        }
                    };

                    console.log('=== COREFINITY MAGENTO WIZARD SUBMISSION ===');
                    console.log('Submission ID:', formData.submissionId);
                    console.log('Complete Form Data:', JSON.stringify(formData, null, 2));
                    console.log('=== END SUBMISSION DATA ===');

                    showBuildProgress();
                });
            }

            function showMainWizard() {
                wizardState.currentPage = 'wizard';
                document.querySelectorAll('.card').forEach(card => card.classList.add('hidden'));

                const sections = [
                    'store-info-section',
                    'system-section',
                    'styles-section',
                    'modules-section',
                    'sample-data-section',
                    'summary-section'
                ];

                const currentSection = sections[wizardState.currentStep - 1];
                if (currentSection) {
                    document.getElementById(currentSection).classList.remove('hidden');
                }
            }

            function showProfilePage() {
                wizardState.currentPage = 'profile';
                document.querySelectorAll('.card').forEach(card => card.classList.add('hidden'));
                document.getElementById('profile-section').classList.remove('hidden');
            }

            function showSitesPage() {
                wizardState.currentPage = 'sites';
                document.querySelectorAll('.card').forEach(card => card.classList.add('hidden'));
                document.getElementById('sites-section').classList.remove('hidden');
            }

            function updateStepValidation() {
                const step1Valid = wizardState.formData.storeName && wizardState.formData.storeNameAvailable;
                wizardState.stepValidation[1] = step1Valid;

                const step2Valid = wizardState.formData.selectedPlatform && wizardState.formData.selectedVersion;
                wizardState.stepValidation[2] = step2Valid;

                wizardState.stepValidation[3] = true;
                wizardState.stepValidation[4] = true;
                wizardState.stepValidation[5] = true;

                wizardState.stepValidation[6] = step1Valid && step2Valid;

                updateUI();
            }

            function updateUI() {
                document.getElementById('current-step').textContent = wizardState.currentStep;
                const progressPercent = (wizardState.currentStep / wizardState.totalSteps) * 100;
                document.querySelector('.progress-fill').style.width = `${progressPercent}%`;
                document.querySelector('.progress-bar').setAttribute('aria-valuenow', progressPercent);

                const maxAccessibleStep = getMaxAccessibleStep();
                document.querySelectorAll('.nav-link[data-step]').forEach(link => {
                    const step = parseInt(link.dataset.step);
                    const validation = link.querySelector('.step-validation');

                    link.classList.remove('active', 'completed', 'disabled');
                    link.removeAttribute('aria-current');

                    if (step === wizardState.currentStep && wizardState.currentPage === 'wizard') {
                        link.classList.add('active');
                        link.setAttribute('aria-current', 'page');
                    } else if (step < wizardState.currentStep && wizardState.stepValidation[step]) {
                        link.classList.add('completed');
                    } else if (step > maxAccessibleStep) {
                        link.classList.add('disabled');
                        link.setAttribute('aria-disabled', 'true');
                    } else {
                        link.removeAttribute('aria-disabled');
                    }

                    if (validation) {
                        validation.classList.remove('valid', 'invalid', 'incomplete');
                        validation.removeAttribute('aria-label');
                        if (wizardState.stepValidation[step]) {
                            validation.classList.add('valid');
                            validation.textContent = 'âœ“';
                            validation.setAttribute('aria-label', 'Step complete');
                        } else if (step < wizardState.currentStep) {
                            validation.classList.add('invalid');
                            validation.textContent = 'âœ—';
                            validation.setAttribute('aria-label', 'Step incomplete');
                        } else {
                            validation.classList.add('incomplete');
                            validation.textContent = '!';
                            validation.setAttribute('aria-label', 'Step pending');
                        }
                    }
                });

                document.querySelectorAll('.nav-bottom .nav-link').forEach(link => {
                    link.classList.remove('active');
                    link.removeAttribute('aria-current');
                    if ((link.id === 'profile-btn' && wizardState.currentPage === 'profile') ||
                        (link.id === 'my-sites-btn' && wizardState.currentPage === 'sites')) {
                        link.classList.add('active');
                        link.setAttribute('aria-current', 'page');
                    }
                });

                if (wizardState.currentPage === 'wizard') {
                    const backBtn = document.getElementById('back-btn');
                    const nextBtn = document.getElementById('next-btn');

                    backBtn.disabled = wizardState.currentStep === 1;
                    backBtn.setAttribute('aria-disabled', wizardState.currentStep === 1);

                    const isCurrentStepValid = validateCurrentStep();
                    nextBtn.disabled = !isCurrentStepValid || wizardState.currentStep === wizardState.totalSteps;
                    nextBtn.setAttribute('aria-disabled', !isCurrentStepValid || wizardState.currentStep === wizardState.totalSteps);

                    if (wizardState.currentStep === wizardState.totalSteps) {
                        nextBtn.textContent = 'Finish';
                    } else {
                        nextBtn.innerHTML = 'Next Step <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9,18 15,12 9,6"></polyline></svg>';
                    }

                    if (isCurrentStepValid && wizardState.currentStep < wizardState.totalSteps) {
                        nextBtn.classList.add('ready-to-proceed');
                    } else {
                        nextBtn.classList.remove('ready-to-proceed');
                    }

                    if (wizardState.currentStep === wizardState.totalSteps) {
                        nextBtn.style.display = 'none';
                    } else {
                        nextBtn.style.display = 'inline-flex';
                    }
                }

                if (wizardState.currentStep === 6 && wizardState.currentPage === 'wizard') {
                    updateSummary();
                }

                updateCompletionProgress();
            }

            function updateCompletionProgress() {
                const completedSteps = Object.values(wizardState.stepValidation).filter(valid => valid).length;
                const totalSteps = Object.keys(wizardState.stepValidation).length;
                const percentage = Math.round((completedSteps / totalSteps) * 100);

                const percentageEl = document.getElementById('completion-percentage');
                const fillEl = document.getElementById('completion-fill');
                const textEl = document.getElementById('completion-text');

                if (percentageEl && fillEl && textEl) {
                    percentageEl.textContent = `${percentage}%`;
                    fillEl.style.width = `${percentage}%`;

                    const messages = {
                        0: "Let's get started!",
                        17: "Great start! Keep going!",
                        33: "You're making progress!",
                        50: "Halfway there! Excellent!",
                        67: "Almost done! You're crushing it!",
                        83: "So close! Final stretch!",
                        100: "Perfect! Ready to build!"
                    };

                    const closestPercentage = Object.keys(messages)
                        .map(Number)
                        .reduce((prev, curr) =>
                            Math.abs(curr - percentage) < Math.abs(prev - percentage) ? curr : prev
                        );

                    textEl.textContent = messages[closestPercentage];

                    if (percentage === 100) {
                        fillEl.style.background = 'linear-gradient(135deg, #28a745, #20c997)';
                        setTimeout(() => {
                            fillEl.style.background = 'var(--gradient)';
                        }, 2000);
                    }
                }
            }

            function updateSummary() {
                // Update store information
                const summaryStoreNameEl = document.getElementById('summary-store-name');
                if (summaryStoreNameEl) {
                    summaryStoreNameEl.textContent = wizardState.formData.storeName || 'No store name selected';
                }

                // Update system options
                const summaryPlatformEl = document.getElementById('summary-platform');
                const summaryVersionEl = document.getElementById('summary-version');
                const summaryDependenciesEl = document.getElementById('summary-dependencies');

                if (summaryPlatformEl) {
                    summaryPlatformEl.textContent = wizardState.formData.selectedPlatform || 'Not selected';
                }

                if (summaryVersionEl) {
                    summaryVersionEl.textContent = wizardState.formData.selectedVersion || 'Not selected';
                }

                if (summaryDependenciesEl) {
                    const deps = wizardState.formData.dependencies;
                    if (deps && Object.keys(deps).length > 0) {
                        summaryDependenciesEl.textContent = `PHP ${deps.php || 'N/A'}, MariaDB ${deps.mariadb || 'N/A'}, Redis ${deps.redis || 'N/A'}, OpenSearch ${deps.opensearch || 'N/A'}`;
                    } else {
                        summaryDependenciesEl.textContent = 'No dependencies selected';
                    }
                }

                // Update styles
                const summaryThemeEl = document.getElementById('summary-theme');
                const summaryLogosEl = document.getElementById('summary-logos');
                const summaryColorsEl = document.getElementById('summary-colors');
                const summaryFontsEl = document.getElementById('summary-fonts');

                if (summaryThemeEl) {
                    summaryThemeEl.textContent = wizardState.formData.selectedTheme || 'Luma';
                }

                if (summaryLogosEl) {
                    const desktopLogoStatus = wizardState.formData.desktopLogo ? 'Desktop Logo: Uploaded âœ…' : 'Desktop Logo: Not uploaded';
                    const mobileLogoStatus = wizardState.formData.mobileLogo ? 'Mobile Logo: Uploaded âœ…' : 'Mobile Logo: Not uploaded';
                    summaryLogosEl.innerHTML = `${desktopLogoStatus}<br>${mobileLogoStatus}`;
                }

                if (summaryColorsEl) {
                    summaryColorsEl.innerHTML = `
        <span class="color-preview" style="background-color: ${wizardState.formData.primaryColor};"></span> Primary: ${wizardState.formData.primaryColor}<br>
        <span class="color-preview" style="background-color: ${wizardState.formData.secondaryColor};"></span> Secondary: ${wizardState.formData.secondaryColor}<br>
        <span class="color-preview" style="background-color: ${wizardState.formData.tertiaryColor};"></span> Tertiary: ${wizardState.formData.tertiaryColor}
    `;
                }

                if (summaryFontsEl) {
                    summaryFontsEl.textContent = wizardState.formData.useDefaultFont
                        ? 'Using Default Theme Font'
                        : (wizardState.formData.selectedFont || 'Custom font selected');
                }

                // Update modules - Simple "nice looking list" as client requested
                const summaryModulesEl = document.getElementById('summary-modules');
                if (summaryModulesEl) {
                    if (wizardState.formData.selectedModules.length > 0) {
                        const moduleNames = {
                            'ppcp': 'PayPal Complete Payments (PPCP)',
                            'fastlane': 'PayPal Fastlane',
                            'mollie': 'Mollie Payments',
                            'loqate': 'Loqate',
                            'klaviyo': 'Klaviyo',
                            'dotdigital': 'DotDigital',
                            'shipperhq': 'ShipperHQ',
                            'yotpo': 'Yotpo Reviews',
                            'reviewsio': 'Reviews.io',
                            'klevu': 'Klevu',
                            'nosto': 'Nosto',
                            'hyva-checkout': 'HyvÃ¤ Checkout'
                        };

                        // Simple tag-based list like in the mockup
                        const moduleTagsHtml = wizardState.formData.selectedModules.map(moduleId =>
                            `<span class="module-tag">${moduleNames[moduleId] || moduleId.toUpperCase()}</span>`
                        ).join('');

                        summaryModulesEl.innerHTML = `<div class="modules-summary">${moduleTagsHtml}</div>`;
                    } else {
                        summaryModulesEl.innerHTML = '<div class="modules-summary"><span class="module-tag">No modules selected</span></div>';
                    }
                }

                // Update sample data
                const summarySampleDataEl = document.getElementById('summary-sample-data');
                if (summarySampleDataEl) {
                    summarySampleDataEl.textContent = wizardState.formData.useSampleData ? 'Yes' : 'No';
                }

                // Update step validation
                updateStepValidation();
            }

            function setupEnhancedFeatures() {
                setupKeyboardNavigation();
                setupFormEnhancements();
                console.log('ðŸŽ‰ Corefinity Magento Wizard initialized with enhanced features');
            }

            function setupKeyboardNavigation() {
                document.addEventListener('keydown', function (e) {
                    if (e.target.tagName === 'INPUT' || e.target.tagName === 'SELECT' || e.target.tagName === 'TEXTAREA') {
                        return;
                    }

                    if (wizardState.currentPage !== 'wizard') return;

                    switch (e.key) {
                        case 'ArrowRight':
                        case 'ArrowDown':
                            e.preventDefault();
                            if (validateCurrentStep() && wizardState.currentStep < wizardState.totalSteps) {
                                wizardState.currentStep++;
                                showMainWizard();
                                updateUI();
                            }
                            break;
                        case 'ArrowLeft':
                        case 'ArrowUp':
                            e.preventDefault();
                            if (wizardState.currentStep > 1) {
                                wizardState.currentStep--;
                                showMainWizard();
                                updateUI();
                            }
                            break;
                        case 'Home':
                            e.preventDefault();
                            wizardState.currentStep = 1;
                            showMainWizard();
                            updateUI();
                            break;
                        case 'End':
                            e.preventDefault();
                            if (wizardState.stepValidation[1] && wizardState.stepValidation[2]) {
                                wizardState.currentStep = wizardState.totalSteps;
                                showMainWizard();
                                updateUI();
                            }
                            break;
                    }
                });
            }

            function setupFormEnhancements() {
                document.querySelectorAll('.form-control').forEach(input => {
                    input.addEventListener('focus', function () {
                        this.parentElement.classList.add('form-focused');
                    });

                    input.addEventListener('blur', function () {
                        this.parentElement.classList.remove('form-focused');
                        if (this.value) {
                            this.parentElement.classList.add('form-filled');
                        } else {
                            this.parentElement.classList.remove('form-filled');
                        }
                    });

                    input.addEventListener('input', function () {
                        if (this.checkValidity()) {
                            this.classList.remove('invalid');
                            this.classList.add('valid');
                        } else {
                            this.classList.remove('valid');
                            this.classList.add('invalid');
                        }
                    });
                });

                setupStepTransitions();
            }

            function setupStepTransitions() {
                const observer = new MutationObserver((mutations) => {
                    mutations.forEach((mutation) => {
                        if (mutation.type === 'attributes' && mutation.attributeName === 'class') {
                            const target = mutation.target;
                            if (target.classList.contains('card') && !target.classList.contains('hidden')) {
                                target.style.opacity = '0';
                                target.style.transform = 'translateY(20px)';
                                setTimeout(() => {
                                    target.style.transition = 'all 0.3s ease-out';
                                    target.style.opacity = '1';
                                    target.style.transform = 'translateY(0)';
                                }, 50);
                            }
                        }
                    });
                });

                document.querySelectorAll('.card').forEach(card => {
                    observer.observe(card, { attributes: true });
                });
            }

            function showBuildProgress() {
                const modal = document.createElement('div');
                modal.className = 'modal active';
                modal.setAttribute('role', 'dialog');
                modal.setAttribute('aria-modal', 'true');
                modal.setAttribute('aria-labelledby', 'build-progress-title');
                modal.innerHTML = `
    <div class="modal-content">
        <div class="modal-header">
            <h3 class="modal-title" id="build-progress-title">Building Your Magento Store</h3>
        </div>
        <div class="modal-body">
            <div class="build-progress">
                <div class="build-step active" data-step="1">
                    <div class="build-step-icon"><i class="fas fa-clipboard-check"></i></div>
                    <div class="build-step-text">Validating Configuration</div>
                    <div class="build-step-status"><i class="fas fa-check-circle"></i> Complete</div>
                </div>
                <div class="build-step building" data-step="2">
                    <div class="build-step-icon"><i class="fas fa-cogs"></i></div>
                    <div class="build-step-text">Setting up ${wizardState.formData.selectedPlatform} ${wizardState.formData.selectedVersion}</div>
                    <div class="build-step-status"><i class="fas fa-spinner fa-spin"></i> In Progress</div>
                </div>
                <div class="build-step" data-step="3">
                    <div class="build-step-icon"><i class="fas fa-palette"></i></div>
                    <div class="build-step-text">Applying ${wizardState.formData.selectedTheme} Theme</div>
                    <div class="build-step-status"><i class="fas fa-clock"></i> Pending</div>
                </div>
                <div class="build-step" data-step="4">
                    <div class="build-step-icon"><i class="fas fa-puzzle-piece"></i></div>
                    <div class="build-step-text">Installing ${wizardState.formData.selectedModules.length} Modules</div>
                    <div class="build-step-status"><i class="fas fa-clock"></i> Pending</div>
                </div>
                <div class="build-step" data-step="5">
                    <div class="build-step-icon"><i class="fas fa-rocket"></i></div>
                    <div class="build-step-text">Deploying to Production</div>
                    <div class="build-step-status"><i class="fas fa-clock"></i> Pending</div>
                </div>
            </div>
            <div class="build-progress-bar">
                <div class="build-progress-fill" style="width: 20%;"></div>
            </div>
            <div class="build-estimated-time">
                Estimated time remaining: <strong>4-6 minutes</strong>
            </div>
        </div>
    </div>
`;

                document.body.appendChild(modal);
                simulateBuildProgress(modal);
            }

            function simulateBuildProgress(modal) {
                const steps = modal.querySelectorAll('.build-step');
                const progressFill = modal.querySelector('.build-progress-fill');
                let currentStep = 1;

                const progressInterval = setInterval(() => {
                    if (currentStep < steps.length) {
                        steps[currentStep - 1].classList.remove('building');
                        steps[currentStep - 1].classList.add('complete');
                        steps[currentStep - 1].querySelector('.build-step-status').innerHTML = '<i class="fas fa-check-circle"></i> Complete';

                        if (currentStep < steps.length) {
                            steps[currentStep].classList.add('building');
                            steps[currentStep].querySelector('.build-step-status').innerHTML = '<i class="fas fa-spinner fa-spin"></i> In Progress';
                        }

                        currentStep++;
                        const progress = (currentStep / steps.length) * 100;
                        progressFill.style.width = `${progress}%`;
                    } else {
                        clearInterval(progressInterval);
                        setTimeout(() => {
                            modal.querySelector('.modal-title').innerHTML = '<i class="fas fa-check-circle"></i> Store Successfully Built!';
                            modal.querySelector('.modal-body').innerHTML = `
                <div style="text-align: center; padding: 2rem;">
                    <div style="font-size: 4rem; margin-bottom: 1rem; color: var(--success);"><i class="fas fa-check-circle"></i></div>
                    <h3 style="margin-bottom: 1rem; color: var(--success);">Congratulations!</h3>
                    <p style="margin-bottom: 2rem; color: var(--gray);">Your ${wizardState.formData.storeName || 'Magento'} store has been successfully built and deployed.</p>
                    <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                        <button class="btn btn-primary" onclick="window.open('#', '_blank')" aria-label="View your new store"><i class="fas fa-external-link-alt"></i> &nbsp View Store</button>
                        <button class="btn btn-secondary" onclick="this.closest('.modal').remove(); showSitesPage();" aria-label="Return to dashboard"><i class="fas fa-tachometer-alt"></i>&nbsp Dashboard</button>
                    </div>
                </div>
            `;

                            if (typeof addNewSiteToTable === 'function') {
                                addNewSiteToTable();
                            }
                        }, 1000);
                    }
                }, 2000);
            }

            function addNewSiteToTable() {
                const sitesTable = document.querySelector('.builds-table tbody');
                if (!sitesTable) return;

                const newRow = document.createElement('tr');

                const platform = wizardState.formData.selectedPlatform || 'Magento';
                const version = wizardState.formData.selectedVersion || '2.4.7';
                const theme = wizardState.formData.selectedTheme || 'Luma';
                const siteName = wizardState.formData.storeName || 'New Store';
                const siteInitial = siteName.charAt(0).toUpperCase();
                const siteUrl = siteName.toLowerCase().replace(/\s+/g, '-') + '.corefinity.com';
                const date = new Date().toISOString().split('T')[0];

                newRow.innerHTML = `
            <td>
                <div class="site-info">
                    <div class="site-avatar">${siteInitial}</div>
                    <div class="site-details">
                        <div class="site-name">${siteName}</div>
                        <div class="site-description">New Site</div>
                    </div>
                </div>
            </td>
            <td><a href="#" class="site-url">${siteUrl}</a></td>
            <td><span class="version-tag">${version}</span></td>
            <td class="created-by">Demo User</td>
            <td class="created-date">${date}</td>
            <td>
                <div class="action-buttons">
                    <button class="btn btn-sm btn-outline-secondary">Manage</button>
                    <button class="btn btn-sm btn-outline-primary">View</button>
                </div>
            </td>
        `;

                sitesTable.insertBefore(newRow, sitesTable.firstChild);
                updateSiteStats();
            }

            function updateSiteStats() {
                const totalSites = document.querySelectorAll('.builds-table tbody tr').length;
                const liveSites = document.querySelectorAll('.status-badge.status-active').length;
                const buildingSites = document.querySelectorAll('.status-badge.status-building').length;

                const statCards = document.querySelectorAll('.stats-card .stats-number');
                if (statCards.length >= 3) {
                    statCards[0].textContent = totalSites;
                    statCards[1].textContent = liveSites;
                    statCards[2].textContent = buildingSites;
                }
            }

            // Expose utility functions to global scope for debugging
            window.CorefinityWizard = {
                getState: () => wizardState,
                updateUI,
                showMainWizard,
                showProfilePage,
                showSitesPage,
                logCurrentState: () => console.log('Current Wizard State:', wizardState)
            };
    </script>
</body>

</html>